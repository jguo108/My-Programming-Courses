# 4. Ghost Buster

[Ghostbusters | Web-browser, Scratch | Coding projects for kids and teens (raspberrypi.org)](https://projects.raspberrypi.org/en/projects/ghostbusters)

### Objectives

### Background

### Project

### What to learn

- Change sprite size using code block
- Concept of random
- Move sprites to random locations on the stage
- forever loop
- Pause and stop program
- Pick random number
- Add blocks into slots of other blocks
- Different sprite effects/Ghost effect

### Blocks

- set size to
- go to random position
- forever
- pick random
- set effect/change effect/clear graphic effects

### Lesson Plan

| Step | Details |
| --- | --- |
| Introduction | * Ok, welcome back everyone! In the last lesson, we have created a pretty interesting animation in the African Savanna: three different animals, each use their own unique way to try to catch a school bus before it leave! We have seen how to use a series of different costumes to make sprites walk or fly. We have seen how to turn and roll a sprite too! That’s a lot of fun! 

* So far in our course, we have been focusing on animation only: we have seen sprites who can say, sprites who can move and sprites who can roll. This helps us to get a pretty good understanding of some of the most often used Motion and Look blocks. But you what? Scratch is not limited to creating animations only, we can use it to make games! Yeah, games! Who doesn’t love games? And it will be even cooler if we can create our own games! So, starting from this lesson, we are going to start making games in Scratch! Don’t worry, making games is not that much different from making animations. After all, games are just animations with more specific goals, it can be scoring the highest points or killing a boss. What you have learnt in the past few lessons lays a pretty good foundation for the new adventure in the world of game creation! So let’s begin! 

* The game we are going to create in this lesson is called “Ghostbuster”, and it is inspired by the classic movie, which happen to be called “Ghostbuster” too! The movie is about a team of funny scientists who use cool gadgets to catch ghosts haunted the New York city. The weapon they use is a pretty fancy one called “proton packs”. It shoots out beams at the ghosts to catch them. If you haven’t seen the movie before, I would strongly suggest you do! Ok, we don’t want to copy everything from the movie although it is where we get our inspiration from. Let’s first see how the game looks like and how it is played. 

* Ok, instead of New York city, we are deep in the night forest! Once the “Go” button is clicked, the game starts and the mouse pointer is our weapon to catch the Ghost! As you can see that the Ghost hovers and drifts in the forest. It comes and goes, pretty elusive. Your task is to use the mouse to click and catch the ghost before it fades out. See if you are quick enough to catch as many ghosts as you can!

* Sounds like a fun game? Let’s dive right in!  |
| Setting up | * Ok, let’s create new project on the CCW website. Change the project name to “Lesson 4 - Ghostbuster”. Then, let’s do the usual thing, change the stage size to 4:3 and delete the default Robot sprite. Ok, we are now left with a clean sheet! 

* First thing first, we need a backdrop. The night forest backdrop comes with Scratch. We just need to find and add it to our project. Click the “Backdrops” tab, then select “Choose a Backdrop” to go to the backdrop library. Search for “forest”, now you can see all forest backdrops. The one we need is this last one called “Woods”. Click to add it. Now, we don’t need the default blank backdrop, so let’s delete it. Ok, backdrop done, click the “Code” back to go back to the main editor.

* Ok, from the demo at the beginning, what sprites do you think we would need for this project? Yes, we just need a single sprite: the Ghost. To add the Ghost, select “Choose a sprite” to go to the sprite library. Search for “Ghost” and you would see 4 different ghost sprites. You can choose any one you prefer, but I would just pick the last one. Ok, it’s on the stage! So, the stage is now set, the sprite is here, time to code! |
| Ghost setup | * Ok, let’s start with the Ghost sprite!

* Currently, this sprite is little too big for the stage. In the last lesson, we make it smaller by manually changing the number for the “size” property to something less than 100. We could do the same here. But I want to introduce you to a better way. As I have told you, pretty much all the properties can be changed either manually or by using code block. For example, we have seen how to show and hide a sprite using the “show” and “hide” blocks in the last lesson. Same with the x and y coordinates and the direction property. The “size” property is no exception. We can use code block to change the sprite’s size. Can anyone of you find out which block this could be? Yes, it changes how the sprite looks, so it must be in the “Looks” category if there is one. And some of you have already found it, it’s called “set size to”. The default number in the slot is 100, setting the sprite’s size to the standard 100%. So to make the sprite smaller, we just need to give it a smaller number, for example, 50. Now click the block to run it, the sprite shrinks by 50%. Ok, if we want the sprite to always has size 50 when the program starts, what should we do? Yes, the all mighty “When flag clicked” block to kick things off! Now just connect the “set size to” block to it. 

* Test. So, if we now change the size back to 100 in the property panel, click the green flag to start the program and as you can see, the ghost’s size is changed to 50 again. Nice!

* Ok, Next, we want the ghost to start at the center of the stage every time the program starts. Where is the center of the stage? Yes, it’s the location with x coordinate 0 and y coordinate 0. So let’s just add another “go to” block after the “set size” block and put 0s in both slots.  

* Test. Right, if we drag the ghost anywhere one the stage and click the “Go” button, it always goes back to the center. Cool! |
| Ghost disappears after being clicked | * Ok, the ghost finally shows up, it’s time to catch it. Earlier, I have shown you how we can use the mouse pointer the click and catch the ghost. So whenever we move the mouse pointer to where the ghost is and click it, this should catch the it. The next question is: what should happen when the Ghost is caught? Any idea? Yes, there is no single correct answer, all of your suggestions are very good! One of you suggest the ghost should disappear and I will run with this idea. 

* So let’s think about it: we want the ghost to disappear when it is clicked. Hmmmm….something should happen when it is clicked, I think I have seen that somewhere else, how about you? Yes, remember Pico, Nano and Giga? We click them, and they each say something, do a sign language, or change color, remember? And how did we make them respond to the mouse click? Yes, we use the hat block “when this sprite is clicked” in the Events category. Let’s drag one out. Ok, just like the “when flag clicked” block, this one also kicks start a new script. This new script should tell the ghost what to do when it is clicked! And what should it do? Yes, we have just decided to make it hidden when it is caught. Aha, make a sprite hidden, we know how to do that, right? Yes, the “Hide” block! 

* Test. Ok, let’s give this a try! Click “Go” to start the game. Now move your mouse over the ghost and click it. Boom! It’s gone! Cool! Errrr ….but, if we run the game again, the Ghost is nowhere to be found. It’s gone forever! Well, if you really pay attention to what I said in the last lesson, you should be able to figure out what went wrong here. Yes, whenever we hide a sprite, always always remember to show it when the program starts. Because once a sprite is hidden, it will remain so until you show it again. These two often come in pair. So, easy peasy, let’s just add a “show” block right after the “go to” block.

* Test. Let’s test it again. Now, every time we start the program, the Ghost always shows up at the center. Cool! |
| Play a sound after ghost is caught | * Ok, when it comes to animations and games, sounds play a very important role. Just think of any of your favorite games, I bet they all have some background music and all sorts of interesting sound effects. Without sounds, a game would just be boring and no one wants to play. We don’t want that to happen to our game, so let’s add some sound too! In particular, we want to play some sound whenever the ghost is caught. 

* Ok, time for a memory jog: have we played with sounds in any of our previous projects? Can anyone recall? Yes, we use sounds in the very first lesson! Still remember the creaky sound Pico made when you click it? Yes! So we can also play some sound with the Ghost is clicked, right? Ok, although this is not new, let’s still go through this slowly one more time. Now, just like a sprite can have different costumes to wear, it can also have different sounds to play. Where do we find all the costumes? Simple, just click the “Costumes” tab to go into the Costume Editor. Now, same question for sounds: where can we find all the sprites’ sounds? Yeah, the “Sounds” tab. Let’s click it, and this brings us to the Sound Editor. Just like the Costume Editor, you would find all the sounds this sprite currently has and you can editor the sound as well. For the Ghost sprite, it always has a sound called “Space Ripple”. To hear what it sounds like, just click this blue “Play” button. Ok, it’s a bit weird but it definitely reminds you of space. But I don’t think it fits here particular well. We want something much shorted and punchier. Now, to add new sounds, all you need to do is just to go and select “Choose a Sound” and this brings you Scratch’s Sound library. Here you would find all kids of sounds. You can play each one by clicking the Play button in the upper right corner. The one I have in mind is some kind of a popping sound. So, let’s search for “pop”. Now, there are two results, let’s play each. Ok, I think I like the “Pop” more. Of course, you can choose any sound you like. So click the “Pop” sound, and now we are back to the Sound Editor. So, “Pop” has been add to our sprites’ sound list. This means we can use and play it in the code. But before, that, we no longer need the “Space Ripple” Sound, so let’s delete it. 

* Now, let’s get back to the code by clicking the “Code” tab. Ok, the next two big questions are: when do we play the sound and how do we play it? Well, we want the sound to be played wherever the ghost is caught. And where is the Ghost caught? Yes, when it is been clicked! So it’s becomes pretty clear that the sound should be played here in the “when this sprite clicked” script. Right, next question, how to play it? Yes, we have learnt two sound related blocks in the first lesson: the “play sound until done” and the “start sound”. Can anyone remind us all what are the differences between this two? Yes, very good! So which one should we use here? Aha, actually, it depends! If you start play a sound AND you have other code blocks right after that AND you don’t want to wait until the sounds is finished playing before running those code code blocks, then you should use the “start sound” block. So let’s see if this is the case here. We already know that the sound should be played when the ghost is clicked, so, in this script. And we want to play it maybe after hiding it, so here. So far, we don’t expect to have any other blocks after that. So you know what, it actually doesn’t really matter which one you use here! In this case, I would just go for the “start sound” block. Let’s add it after the “Hide” block. Ok, the drop down list already has the “pop” sound selected. So we don’t need to do anything here. 

* Test. Right, time to give this a test! Now, when we click the Ghost, it disappears and we can clearly hear a nice popping sound. This is just so much better than before when the Ghost is just gone silently! Sounds do help!  |
| Ghost wanders around randomly ② | * Ok, we have a very basic game, that’s a good start! But there is a problem: the game is not very exciting! The ghost always shows up at the same place, and once it’s caught, that’s it, the game ends! I don’t think your friends are going to be impressed by that! Let’s spice things up!

* First, we want the Ghost to wander around the woods rather than just staying at the same place every time. Currently, when the game starts, we always move the ghost to the center of the stage and then show it. Let’s say we now want to move the ghost to more locations. So maybe it still starts at the center, but then goes to here and then here and then here (Use pen to draw out the different locations). So we just need to add a few more “go to” blocks, right? If you move the mouse to where you wan the ghost to be next on the stage, you can see the x and y coordinates right next to the stop button. So, here, x is -180 and y is 84. To go to here, let’s add a go to block and put these two numbers in. 

* Test. Let’s give this a try. Ok, once the game starts, the Ghost goes to this new location. But notice what happen when I run it a few more times. It looks as if the Ghost now always starts from the upper left corner. But why? In the script, we clearly move it to the center first before moving it to this new location? What is going on here? Anyone has any idea? Yes, because Scratch runs script very fast, much faster than our eye can see. So once the game starts, the ghost did go to the center first, but then very quickly moves to the upper left corner. It did this so fast that we only see the final result. We have come across similar problem before, right? So what is the solution? Yes, if it is too fast, then just make it slower by waiting for a bit. So, after the Show block let’s make the Ghost wait for 1 second. Now, let’s test it again. Aha, now we can see, the ghost first shows up at the center, then it stays there for about 1 second and goes the next location. Pretty cool! Now, let’s just move it to a few more different locations…and after each “go to” block, let’s make it wait for 1 second. Run  this again, and now you can see the Ghost is wandering in the woods, going from location to location. Nice! 

* Ok, I know what you are thinking: what would happen now if we click the ghost at any point? Let’s try! Ok, the Ghost is here, let’s click it! Right, it disappears! This is not too surprising because we already know that it’s going to be hidden when clicked. But there is something interesting here. Let me run it again and click the ghost when it shows up at the second location. Ok, it is gone. But I want you to take a look at the x and y coordinates in the properties panel? Notice anything interesting? Don’t see it? Let’s me try again, ok, click, it is hidden, and …see? Even though the Ghost is hidden, its x and y coordinates are still changing. This means it is still going from one location to another even though we cannot see it! 

* So to make the game even more fun, how about getting the player to keep catching the ghost? This means, whenever the Ghost turns up somewhere, you can click it and catch it, just as what we have been doing so far. Currently, when the Ghost is caught, it is hidden and remains so forever. But as we have just seen, the ghost, even though it is hidden, is still wandering in the woods. So what if we make it show up again in the new location so that the player can click and catch it again! I think this is going to take our game to the next level! Right, with such a brilliant idea, the next question is, how can we make it happen? As we have just seen, the ghost remains hidden forever once it is clicked. Why? Yes, remember, whenever you hide a sprite, it is never going to be shown again unless you run the “Show” block again. So let’s run it through: when the ghost goes to the upper left corner with this “go to” block, we click it and it is hidden. Now, pay attention to the rest of this script. Do you see a “show” block anywhere? No, there is no “show” block here. So would the ghost show up again? Of course not! So what if we do want it to show again? Yes, just add a “show” block after each “go to” block! Let’s do that! So what this script does it that it moves the ghost to a new location, show it, and then wait for 1 second before it moves on. 

* Test. Let’s test this. First, we just left the ghost moves from one location to another without clicking it. Ok, it still works the same as before, nothing appears to have changed. Now watch what happen if I click it when it is at its second location. Boom, it’s gone, but instead of being gone forever, it very quickly showed up at the next location and continued on. And the fun thing is, you can click the ghost at any of the five different locations and catch it over and over again. See who is the quickest ghostbuster and catch it the most number of times!  

* Ok, if you play the game a couple of times, you would very quickly realize that something is not quite right! Can you spot what that is? Yes, the Ghost always shows up at the same five locations! Ok, the first time you play the game, you know nothing about it, and this would probably give you some excitement. But as you play more and more, things start to become a bit boring. You can predict where the Ghost is going to show up each time and the fun is completely gone! Yes, the fun is gone! So that gets us think? What makes a game interesting? Anyone have any any idea? OK, these are all very good suggestions and they are true! For me, I think the “unpreditability” is the single most important factor for any fun game. Ok, a very fancy word “unpreditability”. Well, in simple terms, it just means you can’t know before hand what is going to happen in the game when you play. For example, in Minecraft, you would never know what landscapes or creatures you are going to encounter around the next corner. This is what excites the players and keeps them engaged. 

* Ok, so the next question is: how can we make our games more unpreditable? Well, one important technique is to make things “Random”! “Random”? What does that mean? Have anyone of you ever thrown a dice? Do you know for sure what number would come up? Of course not! It’s a surprise! Have you every tried to draw a card from a deck? Do you know for sure what card you are going to get? Of course not! It’s another surprise. So random is like a Surprise, you don't know what will happen next. It's not like counting 1, 2, 3. It's more like jumping around without a plan. Randomness makes things exciting and unpredictable. It's like a mystery that keeps us guessing. It's why we love games, surprises, and even just the unexpected things that happen in our day.

* Ok, back to the Ghost, right now, it’s always showing up at the same 5 locations each time. What if we can make this more random, meaning we don’t know where it is going to turn up next, it is going to be a surprise! Wouldn’t that make our game more exciting? I certainly think so! Let’s take a look at the script, currently, we have five “go to” blocks that move the ghost from one place to another. Each “go to” block has a exact pair of x and y coordinates. This is why it always shows up at the same locations. What if we can ask the ghost to go to a random location on the stage? Random means it can be anywhere, we don’t know exactly where it is going to be, and it’s a surprise! What if I tell you that there is such a code block to move a sprite to a random position? Can you try to find it? Yes, since it is all about moving a sprite, the first thing we should do is to take a look at the Motion category. See? There is a block called “go to random position”! Hooray! Looks like we got what we need! Let’s drag this one out and take a good look at it! 

* Unlike the “go to x y” block, this one has not slots for you to put in any coordinates. Instead, it has a dropdown list. And the default option is “random position”. After understanding what “random” means, you can just think of a random position as a surprise position, so it can be anywhere on the stage! Exactly what we need! If you click and open the list, you can see a few more options, one is called “mouse-pointer” and the other one is our other sprite the “Magic Wand”. As the names suggest, you can also make a sprite go to the mouse pointer or another sprite in your project. We are not going to use these two options in this lesson. But you will see how they can be useful later in the course. Ok, let’s close the the list and make sure you still have “random position” selected. Now, for a quick test, let’s just click this block to run it. See, everytime we run it, the Ghost moves to a different position. But what is interesting is that, the positions are completely unpreditable, there is no pattern you can follow, and it just looks like different each time. Perfect! So all we need to do next is just to replace all the give “go to” blocks by this new “go to random position” block. Let’s do that! Right, all done. Let’s run the game again.

* Test. Ok, the first run, we can see the ghost showing up at these 5 different locations. Now, watch when I run it again, see? The places the ghost go to are completely different! It’s all random positions! If I run it again, they will be different again! How cool is that! Now you have not chance of predicting where the ghost is going to show up next! This just makes the game so much more fun! 

* Ok, what if we are not happy with just 5 locations? What if we want more to keep playing the game for longer? Simple! Just add another “go to random position” block, another “show” block, and another “wait 1 seconds” block at the end of the script, and you have 6 instead of 5 locations. What if we want even more? No problem, just keep adding the same three blocks over and over again until it becomes like this! Errr….this is a very very long script and it’s just doing the same three things over and over again! Hmmm….can we do better than this? Anyone? Aha, yes, what is one of the most important code block we have learnt in the last lesson? Yes, the “repeat” block! And it is exactly for a situation like this! In the last lesson, what do we use the repeat block for? Yes, we used it to make each sprite move to the bus without adding the same code blocks again and again. So here, can we use it here to make the ghost wander in the woods without adding these three blocks again and again? Sure we can? How? Yes, let’s just disconnect this long and repeated script and put it aside. Go to the “Control” category and drag out the “repeat” block. Connect it to the “when flag clicked” script. For the number of iterations, let’s set it to 5 for now. Ok, what are the code block we want to repeat? Yes, we want to repeatedly go to random position, show up, and then wait for 1 second. That’s it! That’s how you would make the ghost go to five different random positions on the stage! The script is so much shorter and nicer! How wonderful the “repeat” block is! Let’s give this a test!

* Test. Yes, still works as before, the only difference is that we have a much simpler and shorted code! Awesome! And you what is even more awesome! Yes, if you want to keep playing for longer and make the ghost go to even more random positions, all you need to do is just to change this single number of the “repeat” block. For example, let’s change it to 10. Now, run it again, and we now have 10 chances to catch the ghost! Nice! By the way, there is one small thing that I forgot to mention: see this yellow outline around this script here after I click the Go button? This is basically telling you which script is currently running. In this case, it is clearly running the “when flag clicked” script as the ghost is repeatedly going from place to place. Since we have very simple code here with only two script, this might not seem very useful. Of course, we know which script is running. But in more complex project when you have tens or even hundreds of scripts for a sprite, knowing which on is currently running is very important. Ok, this is just a small side note for you to know and let’s move on!  |
| Ghost wanders around randomly and forever | * Ok, with this repeat loop, we can now make the ghost show up any number of times we want. Just change the number of iterations and there you go! You can set it to 100, 1000 or even 10000. The larger the number of iterations, the longer you can play the game for. But no matter what, the repeat loop will finally completes and the program would just say “ah, I have finished all my iterations! I will stop and exit now!” It could take minutes, hours, days, months or even years, depending on how large the iteration number is. Now, think about any game you have played before, is it the game or you who decides when to exit? Yes, it’s always you, the player! The game would not just suddenly exist when you are still playing, right? Well, unless the game crash, but that’s a different story. It’s always you who says “Ok, I have played this long enough and I want to exit now to have a break!” Unfortunately, with a repeat loop, it’s the game who decides when to exit: when it completes all the iterations. We need to take this control back into the hands of our players. Ideally, we should just tell the program or the game to keep running or repeating FOREVER and it should only stop when we tell it so, not when it has finished all the iterations. 

* Ok, here is something interesting: “repeat forever”. So far, whenever we repeat some code, we always need to set the number of iterations, that’s how many times the loop will repeat that codes. It doesn’t matter whether the number is 1 or 1 million, there is always an end point where the loop stops. But repeat forever is different, there is no stopping point and the loop just continues on and on. With most games, we need such loop to keep the game running forever. Just imagine how frustrated it would be if the game decides to stop itself all of a sudden in the middle of a game play. Games should only exit when players choose to do so. In Ghostbuster, we want the Ghost to wander in the woods forever so that we can keep playing and catching it. The game should only stop when we ask it to stop. 

* So the question is: is there a way in Scratch to repeatedly do something forever? Ok, where did we get the repeat block? Yes, in the Control category. So where do you think we are likely to find a block that repeats forever? Yes, in the Control category! Now, go and see if you can find it? Great! Seems everybody has found it, it is called “forever”, just under the “repeat” block! Let’s drag it out in to the script area. 

* Now, compare this one with the “repeat” block, can you tell the main differences between them? Yes, sure, they have different names. Anything else? Yes, the “forever” loop does not have a slot for the number of iterations! That also makes sense, because, well, it loops forever, and no number of iterations will make a loop go on forever. So there is definitely no need for an iteration number. Anything else? Yes! Brilliant! The repeat loop has a tube that sticks out at the bottom, but the forever loop has not. Hmmm…why is that? Ok, first, let ask you, what is a tube for? Yes, it is for connecting other code blocks, right? Nothing new here. Ok, since the repeat loop has a tube, what does that mean? Yes, it means you can connect other blocks after the repeat loop. For example, I can just drag a “move” block and connect it to the repeat block. Simple. Ok, how about the forever loop? Well, it does not have a tube at the bottom. What does that mean then? Yes, it means you cannot connect any code blocks to it. For example, if I try to connect a move block to it, I would fail! Ok, so the difference is that you can add more blocks after the repeat loop but not the forever loop. But why? Why doesn’t Scratch allows us to connect any blocks after the forever loop? Anyone has any idea? Ok, for a repeat loop, you know when it is going to end, right? It could be after 1 iterations, 10 iterations, 100 iterations or 1 million iterations, doesn’t matter. What matters is that, it will eventually end. And once it stops, the script can carry on with the code after it, right? Ok, how about the forever loop. Well, the reason it is a forever loop is that it never ends! It just loops on and on forever. So, if you were able to connect other code blocks after it, do you think those code will ever be run? No! They will never be run because the script just keeps loops forever. Since any code after the forever loop will never be run even if you were able to add them, then why not just make it impossible to add any code in the first place? And this is what the Scratch team decides to do: without a tube at the bottom of the forever loop, it is not even possible to add any code after it. 

* Ok, we have a pretty good understand of the new “forever” loop. To keep our ghostbuster game running forever, we just need to replace the “repeat” loop with this “forever” loop. Let’s do that! Right, now what the script says is this: when the flag is clicked and the game starts, first set the Ghost size to 50%, then repeatedly do the next three things forever: move the ghost to a random location on the stage, make it show up and then wait for 1 second. As a player, all we need to do is just to keep catching the ghost whenever and wherever it shows up. The game will never stop unless we decide to do so. Ok, enough talking and let’s try it out!

* Test. Ok, once we click the Go button, first thing you notice is that this script has a yellow outline meaning it is currently running. On the stage, the ghost just goes from place to place, never stop. At any location, if click and catch it, we hear a Pop sound and the ghost is disappear for a short while before it shows up again somewhere else. Pretty cool. We can just keep catching it all day long!!! Previously with the repeat loop, the game ends when the loop completes all its iterations. But here, since we are using a forever loop, we are the one who decides when the game should stop. Ok, you might be wondering, what if I’m bored and just want to stop the game and quit. Well, you certainly can do that! We use this GO button above the stage to start a program. Beside that, do you notice the other two buttons next to it? The amber one is called “Pause”, meaning you can pause the game temporarily, because, well you want to have a toilet break, and you want to continue from where you left off before the break. Let’s click that and try! See?  The game now freezes and the ghost stops moving. Also notice that the script is still highlighted, meaning it has just been paused, but not stopped. Now if you click the pause button again, the game would resume. What if it is time for bed and we decide to stop playing the game, well, at least for tonight? Then we can click this big red STOP button here. This simply stops everything in the game, including our forever loop. Notice that the script is no longer highlighted, meaning is has truly been stopped. Nice!

* The forever loop is a very important block in Scratch and we will be using it over and over again throughout the course. Because quite often, we just want sprites in our project to repeatedly do something without ever stopping. But more on that later. For now, just make sure you truly understand what a forever loop is and how it is different from a normal repeat loop!   |
| Random wait | * By now we have a fully functional and playable game. Ok, it is not the most exciting game in the world. But hey, this is our first attempt into the wonderful world of game development, not a bad effort, huh? Even with a game as simple as this, we can still find areas where to make things even better.

* First, still remember what randomness is? Yeah? So random is a surprise and it is what makes any game more exciting. We have seen how to use the “go to random position” block to make the ghost show up at unpreditctable places so that it becomes more difficult to catch it. But it is not just the ghost location that can be made random, we can make other things random as well. Take a look at our scrip again and see if you can think of anything that can be made random? How about this “wait” block in the loop? What is not so good about it? Yes, it always waits for exactly one second. This means the Ghost always stays at one location for 1 second before going to the next. This regular time interval is just too predictable! What if we make it more random? What if the wait time is not fixed but some random number of seconds? Would that make the game more interesting? What do you think? Yeah, I think this worth a try! 

* Before that, let’s think about rolling a dice again. A dice is just a tiny cube with 6 sides. Each side has a number in the form of dots. The numbers go from one to six. Now, everytime you roll it, it eventually has one side facing up. And the number on that side is the number you’ve got. Hopefully, nothing here is too new to any of you. Dice are often used in many games to add a bit of fun and surprise, or as we know it now, a bit of randomness. You never know what number you'll get! Now, let’s think about it, a dice it nothing but a simple device that allows you to randomly pick a number from 1 to 6 right? So the final number you get can be 1, 2, 3, 4, 5, or 6. It could be any of them, but what you know for sure is that it will never be outside of this range. 

* Ok, you might be wondering, what does rolling a dice has anything to do with our code here? Well, if we want to make the wait time more random, maybe we can just pick a random number of seconds from a range of say, 1 second to 4 seconds? So the actual wait time can be 1 second, 2 seconds, 3 seconds, or 4 seconds. You won’t know exactly how long the ghost will be staying at one location, but you know for sure that it’s not going to be shorter than 1 second or longer then 4 seconds. This uncertainty would definitely add more excitement to our game! Ok, the question now becomes how can we select a random number between 1 and 4? Do we have anything like a dice in Scratch that we can just roll? 

* Aha, we are lucky! Scratch have you covered! To find  our dice, we need to look at a new block Category called “Operators”. Click that and you would see a bunch of green code blocks. If you take a quick glance, you would see something familiar such as the add block, the subtraction block, and something not so familiar such as the “and” block and “or” block. But don’t worry, we will be learning what those blocks are and how to use them later in the course. But for now, I want you to pay attention to this “pick random 1 to 10” block. Let’s drag it out. 

* OK, as you’ve probably already guessed, this is our dice! It says “pick random” and then two slots for two numbers. Can you guess what those numbers are for? Yes, they defines the range of numbers where your random number should come from. The default is 1 and 10. So it will pick a random number between 1 and 10. Let’s try! Click this block and it gives a number 6. Cool. Now click it again, and it says 5 this time. Again, 10, again, 3, again 1. Right, you can just click it over and over again and see the numbers it picks. Can you spot any pattern of those numbers? Ah, this is a trick question. Of course, there should be no pattern whatsoever! Because they are supposed to be random! Right? Ok, what if I want to simulate an actual dice? What change should I make here? Yes, just change the number in the second slot to 6. So now it only randomly picks numbers between 1 and 6, exactly what a dice would do! Then how about pick a random number of seconds between 1 and 4? What change should we make this time? Yes, simply, just change number in the second slot again from 6 to 4! Cool, now if you click this block a number of times, you can see that it only gives you random numbers between 1 and 4. Pretty Cool!

* Ok, we have the number, the next question is, how can we get the ghost to wait for this random number of seconds each time? So far, we have always been putting a exact number in the slot of the “wait seconds” block, like this one second here. This is true for some other blocks such as the “move” block, we also put an exact number as the number of steps to move. But now, for the first time, I want you to pay attention to the shape of those slots. What shapes do you think they are? Well, I would say it is more of a rectangle with rounded corners. Ok, now take a look at the “pick random” block, what shape do you think it is? Yes, it is also a rectangle with rounded corners. Yeah, sure this rectangle is much longer than the slot, but still, it is a rectangle with rounded corners. Ok, wake up, here is something very important in Scratch: whenever you see a rectangle code block with rounded corners, you can always put it inside a rectangle slot with rounded corners. For example, if I drag this “pick random” block over the “move” block, once it is closed enough, you can see that the slot lit up, and if you let go off the mouse, it snaps right into the slot. Now, instead of always moving 10 steps, the block now moves the sprite between 1 and 4 steps randomly each time. Ok, same with out “wait” block: the slot for the number of seconds is also rectangle with rounded corners. So we can use the “pick random” block here as well. Just drag and move it to the “wait” block, once the slot lit up, let go off the mouse and boom, it snaps, right in! Now, instead of always waiting for 1 second, the ghost waits a random number of seconds between 1 and 4 each time! Let’s test this out!

* Test. As you can see, some times the Ghost stays at a location for a quite long, maybe the 4 seconds was picked. And sometimes it just shows up and then disappears very quickly, maybe 1 second was picked. This adds another variability or randomness into our game! Pretty Cool!

* So now we have seen two different ways to add randomness to make a game more fun, you can either make sprites go to random positions or pick random numbers for different purposes, such as moving random steps or waiting for random number of seconds. We will see more use of randomness throughout this course, because, after all, this is what makes a game interesting and exciting!  |
| Ghost effect | * OK, earlier, we talked about how sound effect can take your game to the next level. There is actually another kind of effect that is equally important: graphic effect. Graphic effects are special tricks that make things look fun, weird, or amazing. Who doesn’t want to add a bit of cool tricks to one’s game? And we want that for our ghost too! 

* So what graphic effect do we want for our ghost? Well, since it is a ghost, we want it to be more ghost like! And what a ghost should be like? Well, think about what it is like when a ghost disappear or show up: does it just do that in an instant like our ghost here? Probably not, right? A ghost, when disappearing, should fade out slowly until it is completely gone. Similar, when showing up, should fade in slowly until it is completely visible. This kind of ghostly graphic effect is exactly what we want!

* Ok, knowing what we need, the next step is to figure out how to get there. Of course, everything is made possible in Scratch with come kind of code blocks. So the first step is to figure out which block or blocks can create this kind of ghostly effect. Right, let me ask you a question: which block category do you think a block or blocks that create ghost effect might belong to? Motion? Looks? Sound? Or something else? Yes, Looks, of course! Because it is all about how the ghost looks! So let’s take a look at that category and see if there is anything useful there. 

* Since we want to create a ghostly effect, maybe it is a good idea to look for the word “ghost” first. Do you see any? Hmmm….I don’t any block with the word “ghost”. Ok, that does not work. Right, what is the next word of “ghost effect”? Yes, “effect”! Let’s give that a try, any block with the word “effect”? Sure! I can see at least three: “change color effect by”, “set color effect to” and “clear graphic effects”. Aha, these three look promising! And actually, you could probably recognize one of them! Which one? Yes, the “set color effect to”! Still remember where did we see that? Yes, in the first lesson “Space Talk” where we use this block to change the color of Giga when it is clicked! Yea? Ok, back then, when we use it to set the color of a sprite, I mentioned that it can be used to set other effects too? How? Well, see this drop down list? That’s how! Click and open the list. Wow, it’s a big hidden world! As it turns out, color is just one of the 7 effects you can see for a sprite! There is the “fisheye” effect, “whirl” effect, “pixelate” effect, etc etc. These effects are pretty fun and I strongly encourage you to play with each of them after the class. But since our time is limited here, I would just be more focused. So, out of these seven effects, which one do you think is most likely to help us create some ghost effect? Aha, yes, the last one, “ghost” effect! Let’s select that. 

* Ok, we have the effect chosen, now it’s time to play with the number in the slot. The default is 0. Let’s try what that does to our ghost. Click and run the block. Ok, not thing has changed to the ghost. It looks exactly the same as before. Right, let’s change the number to, say 10, and run the block again. Aha, this time something interesting happened: the ghost faded a little bit. Nice! We see the block working now! How about a bigger number, say 30. Wow, it fades even more and we can even start to the see the backdrop coming through now! How about 80? Wow, we can hardly see the ghost now, it’s almost completely transparent! Now, the big moment, let’s crank it up all the way to 100! Yep, it is completely gone this time! Totally invisible! 

* So, as you can see, the ghost effect basically controls how visible a sprite is on the stage. As we go from 0 to 100, the ghost slowly becomes more and more transparent until it is completely invisible. If you make the opposite change, meaning going from 100 back down to 0, the ghost will slowly become more and more visible until it is back to normal again. Hmmm… this sounds exactly the kind of ghost effect we want! When the effect number goes up, the ghost fades out slowly; when the number does down, the ghost fades in slowly again. Cool, I think we are getting there! But before that, if we want a sprite to go back to whatever its initial state was after we have been playing with all those graphic effects, the simplest way is to use this “clear graphic effect” block. Click and run it, the sprite just goes back to normal again. In this case, it means our ghost is going to be visible again. 

* Ok, the “set effect” block is one way of changing a sprite’s effect. The other one is called “change effect by”. Let’s drag that out and play with it for a bit. Same with the “set effect to” block, this one also has a dropdown list that contains the same seven effects. The only difference is that, instead of setting an effect to a specific number, it changes it by increasing or decreasing the effect number. The the amount you want increase or decrease by each time is the number in its slot. Let’s see how this works. Previously, we have already cleared all the graphic effects, so the ghost effect should be set back to 0. Now, to make the ghost fade away, we need to increase its ghost effect slowly. Let’s say we increase the effect by 10 each time. So all we need to do it just put in number 10 in the slot. Ok, now, if we click and run this block once, you can see that the ghost fades a little bit. This is because we have increased its ghost effect number from 0 to 10. Now, if we run it again, the ghost fades a bit more and the ghost effect should be 20 now. If we just keep clicking and running it over and over again, the ghost slowly fades away and becomes completely invisible when the effect number reaches 100. By the way, once it’s 100, the number won’t go up any more even if we keep clicking and running the block. 

* Ok, the ghost is gone now. How do we bring it back? Well, if you listen carefully, you might say just set it’s ghost effect back to 100 or even simpler, use the “clear graphic effects”.  That’s good. But what if I ask you to only use the “change effect by” block? Ok, that means, instead of increasing it, we are now going to decrease it. So how do you make a number smaller? Yes, you use subtraction! So subtracting 10 from 100 gives you 90. Ok, previously, we pass number 10 to the “change effect by” block so that each time it is run, the ghost effect is increased by 10, or in other words, we add 10 to its effect. Ok, now going the way round, if we want to decrease the ghost effect, we need to subtract 10 from its effect. That all sounds reasonable right? But how? Ok, to answer that question, we need to remind ourselves about positive and negative numbers. We come across these two different types of numbers when learning about the Scratch coordinate system. So think about the horizontal x axis, the center is marked with number 0. All numbers to the right are positive, whereas all numbers to the left are negative. Still remember that? When we write numbers like 1, 5, 10, they are just positives numbers. So the number 10 in the slot of the “change ghost effect by” block is a positives numbers. Now, this is important: when you change the effect by a positive number, it is the same as adding that number. Ok, then how can I subtract a number from the effect? Yes! We just need to change it by a negative number! So, instead of a positive 10, we want a negative 10. And how do you get a negative number? Yes, you just slap a minus sign in front of it, like this! Time to witness the magic! If I start to click and run the block now, see, our ghost is slowly getting back! Remember, the effect was 100 when it is completely invisible? Now, we are starting to subtract 10 each time, so it goes from 100, to 90, to 80, and on, until it reaches 0, when the ghost is completely visible again! Now, once it is 0 the number won’t go down any more even if we keep clicking and running the block. Pretty cool!

* Ok, so far, it is us who keep clicking this block again and again to the make ghost fade out or fade in. At the end, we want our code to do this for us. But how? Well one simple solution is just to have 10 of this “change ghost effect” block connected one after the other. That would certainly work. But as someone who now know a bit more about coding, we can do better than this, right? Any suggestion? Yes, every time see a long script with the same code repeated over and over again, the first thing that should come to your mind is Loop! So what are the two loops we have learnt so far? Yes, the “repeat” loop and the “forever” loop. Ok, so we have a total of 10 “change effect by” blocks to make the ghost fade out. So which loop do you think is a better candidate to replace this lengthy script? Yes, of course, the “repeat” loop. Because we only need to do this for 10 times, we are not going to do this forever. So let’s drag out a “repeat” loop. OK, the default iteration number is 10, exactly what we need. So no need to change it. Now, what is the the thing that we want to repeat? Yes, “change ghost effect by 10”. So let’s just add that block inside our repeat loop. Ok, let’s take a look at what we have now: we have a loop that repeats 10 times, and each time, it adds 10 to the ghost effect. So if the ghost effect starts at 0, then after this loop, it’s effect is going to be 100, and the ghost would be hidden completely, right? Cool, that all theory, let’s see if it really works the way we hope for. Let’s first clear graphic effects to make reset everything. Now, click and run the repeat block. Yeah! See, that? Let’ me try again, clear graphic effect, and there you go, the ghost fades out! Now how about fading in slowly again? Yes, just drag out another repeat loop, repeat 10 times and this time, we want to change the ghost effect by -10 each time. Let’s click and run this, and yes! The ghost fades back in again! Awesome!

* Ok, so the ghost effect code is done, time to find the right place for them in our script! Right now, the ghost is just popping up from one random location to another in a forever loop. Then at each new location, it just shows and waits for a random amount of time. Ok, where do you think we should place our two new repeat loops? Let’s first consider this fade in loop. I think the code is already telling you where it should go, right? We already have a “show” block in the forever loop that shows the ghost after it has go to a new random position. So let’s place the fade in loop right after the “show” block. Now, every time the ghost goes to a new random location, it is going to slowly reveal itself. OK, that’s half of the job, how about fading out, when and where should we do it? Aha, yes, after waiting at the new random location for some time, the ghost should then fade out, right? So, the fade out loop should go after the “wait block”. Let’s insert it there! That’s it, that’s job done! Time to test the whole thing out!

* Test. Click the “Go” button to start the game! Aha, see, doesn’t that look awesome? The ghost is now truly ghostly, it fades away and then shows up at random places in the woods! Ok, let’s see what would happen if we click the ghost now. Yep, we hear a popping sound and the ghost is gone immediately. Some time later, the ghost reveals itself slowly at another location. Perfect!

* Ok, before we complete this lesson, there is just one small thing I want to let you know. Setting or changing any graphic effect is similar to show and hide in the sense that if a graphic effect is changed in when running a program, then the next time you run the program, that change will remain. For example, if I set the ghost effect to 50, then the next I run the the game, the sprite is going to start with ghost effect set to 50. Now, normally, whenever we start the program, we want each sprite to start without any graphic effects. To do that, we should always add the “clear graphic effect” block at the beginning of the script to make sure there isn’t any graphic effect to start with. So let’s add that at the beginning just after the “set size to” block. 

* Test. Ok, let’s just give that a final test. Right, everything still works as before. Nice! |

### Exercises

- Can you make a sprite to say out loud its size?
- Play with the “change size by” block and how is it different from “set size to” block?
- How large/small can you set a sprite’s size to?
- Can you come up with more real life examples where randomness plays a role?
- Can you make a sprite go to random positions without using the “go to random position” block? (Hint: use the “pick random” block)
- What do the other options in the “go to random position” block do? Try them!
- Can you add more randomness/surprises into our game?
- How can you make the ghost fade out/in faster/slower?
- Explore with other graphic effects and see what each one does to sprites.
- How about adding more sprites to catch?
- How can you make the game even more fun to play?