# 1 Synchronized Swimming

### Reference

[Synchronised swimming | Scratch | Coding projects for kids and teens (raspberrypi.org)](https://projects.raspberrypi.org/en/projects/synchronised-swimming)

### Objectives

### Project

### What to learn

- Basic cloning: creating clones and starting clones
- Cloning with differences: use local variables to customize the appearance or behavior of individual clones.

### Blocks

- create a clone of myself
- when I start as a clone

### Lesson Plan

| Step | Details |
| --- | --- |
| Introduction | * In this lesson, we are going to orchestrate a synchronized swimming team made up of Scratch cats. You can use the arrows keys to make to move or turn synchronously. Crucially, we will learn a very important concept or tool in Scratch, and that is Clone. 
* Before we look at what clone is, let’s step back and think about some of our previous lessons. When working on those projects, it is often the case that we need multiple sprites that look or behave similarly or even completely the same. For example, the Crabs in ”Turtle Crossing”, the Fruits in “Fruitopia” and the Enemies and Computer in “Escape Room”. 
* Take the Crabs as an example, we have three of them, each one has exactly the same costume, and the code is exactly the same. If say we need one more, we have to go into the sprite list pane and duplicate the sprite once more. Now, this is ok if you just need 3 or 4 crabs, but what if you need 100 copies, or 300 copies, do you just go in and manually duplicate it 300 times? Would it be nice if we can just tell the sprite “hey, go ahead and duplicate yourself 300 times”? And if we want more, simple, just change the number to say 500!
* Fortunately, duplicating sprite is common enough in Scratch that it actually provide blocks to do that automatically. And process this in Scratch is called “Cloning”. For now, you can simply think of cloning as making a copy of something. The sprite making the copy is often called “parent sprite” or “parent” and the copy itself is often called “child sprite” or “child”, since the word “clone” originally came from biology. 
* This is a very powerful tool in Scratch that no large games can live without. We will be spending a good amount of time learn the nuts and bolts in the next few lesson. So without further ado, let’s dive in! |
| Creating cat clones | * Ok, to see cloning in action, let’s first add a single Scratch cat sprite to our project. When green flag is clicked go to the center of the stage. It’s a little bit too big, so I will set the size to 70%
* Now, before this lesson, if we want to have more cats, we would go into the sprite list pane, right click and duplicate to create a second cat sprite. But as we have mentioned at the beginning, this is going to be difficult if you want to create 100 cat sprites.
* The better alternative is to use “cloning”. How does that work? We need to a new block, if you go to the Control category and scroll all the way to the end, you will see three new blocks related to cloning: “When I start as a clone”, “Create a clone of myself” and “delte this clone”. We will see how to use each of them in the this and the next few lessons. Right now, let’s first try to create some clones by using the “Create a clone of myself” block. 
* As with a lot of other blocks in Scratch, this block also has a dropdown list where you can select different options. Right now, there is just one option: myself. This means it creates a clone for whichever sprite this block belongs to, in this case, it is this cat sprite. Later on, we will see more options here. 
* Now, let’s click this block to see what happens. Ok, looks like nothing is happening! But watch, if you now move your mouse to the cat, click and drag it away, what do you see? Aha, we now have two cats! We have made a clone! Bye the way, if you want to know which one is the parent sprite, that is the one creating the clone, just click the sprite in the sprite list pane, and whichever gets highlighted in a red box is the parent sprite, and the other one is the child sprite. Now, if we click the block one more time, and drag away the cat, we see a third cat! So we just do this three more times to create a synchronized swimming team of 6 cats: one is the parent and the other five are its clones!
* Now, if you have a lot of clones, sometimes it can be hard to keep tack of how many of them there are. Fortunately, Scratch provides a clone counter for you, just …. to enable it, now you can see the clone number above the stage. It shows 5, because remember, one is the parent sprite, so we have 5 clones, and not 6. 
* Ok, so far, we have been creating clones by manually clicking this block again and again for 5 times. Since we are repeatedly doing the same thing, a perfect job for a loop! Let’s add a repeat loop to repeat 5 times, each time, create a new clone using the “create a clone of myself”.
* Test. Hmmmm…looks like nothing has changed. But if you take a look at the clone counter, it actually shows 5, meaning we do have 5 clones now. The reason we are no seeing them is just because they are all at the same position, layering on top of each top. If we just move them apart one by one, we can know see 6 cats in total.
* So far, our 6 cats are made up of 5 clones and one parent sprite. That’s ok. But if you want 6 cats, a better way is to create 6 cat clones and hide the parent sprite as if it does not exist any more. So let’s change the loop to repeat 6 times instead. And after creating all the clones, we hide the original sprite.
* Test. Now if you separate the cats apart, you see 6 cats, all of them are clones. And where is the parent sprite? Well, it is hidden now. If you click the sprite in the sprite list pane, you can see a highlight red box showing where the parent is, it is just that you can not see it now. 
* Problem: But if we run the program again, all cats are gone, there is nothing on the stage! But if you take a look at the clone counter, it still says 6. So where are all the clone and what is going on here? Remember, the last time we run the program, the parent sprite hides itself after creating all the clones, right? And you should also remember that, in Scratch, if you hide a sprite, it will remain hidden even if you restart the program, unless you show it again. So the second time we run it, the parent sprite is still hidden. And a clone will be an exact copy of its parent, meaning it has the same size, color, position, visibility and many more other features as its parent. Oh, by the way, because a clone has exactly the same position as its parent, so they overlap and that’s why you don’t see the clone initially until we separate them apart. OK, the same is true for visibility, because the parent sprite is hidden, so all the clones it creates will also be hidden because they are just an exact copy of the parent.
* Solution: Ok, the solution shouldn’t be new to you: just remember to show a sprite at the beginning if you ever hide it. 
* Test. Now, doesn’t matter how many times we run the program, we always see 6 cats each time. Cool! |
| When I start as clone | * Now, a clone that does nothing, such as these 6 cats, is not going to be very useful. And as you have seen at the beginning of this lesson, each cat in the swimming team needs to move and turn. So, we need a way to tell each clone to do something. 
* Ok, let’s step back for minute, in Scratch, a sprite waits under the “when green flag clicked” block to spring into life and we have seen this being used many times so far in this course. Because a clone is a copy of a sprite, so it itself is also a sprite. So a sprite should be able to receive the green flag clicked event to start its life, right? Well, not so much and here is where a sprite and its clone differ. The reason is pretty simple, take a look at our program here, we click the green flag to start the parent sprite, right? And do we have any clones at this point? No, the parent sprite just starts, it has to go to the center and show before it creates any clones. So no clones at the point when the green flag is clicked, and surely using the “when green flag clicked” block won’t work with clones. So how can we make a clone spring into life?
* Fortunately, Scratch provides “When I start as a clone” block just for that. Notice that it is also a hat block, and the funny thing is that this is the only hat block that is not in the Event category. So what does a hat block do? Yes, it starts a script! And from its name, can you guess what script it starts? Yes, it starts the script of a clone. So what happens is when you create a clone using the “create clone of myself” block, a clone gets created, and then it immediately begins to run the script starting with this “When I start as a clone” block. You can think of it as equivalent to the “When green flag clicked” block, but for clones. I doesn’t matter how many clones you create, all of them will run this same script. 
* Ok, enough talking and it’s always better to demonstrate with some real code. Let’s add a “go to random position” block under the “When I start as a clone” block. Ok, if run the program now, can you guess what is going to happen?
* Test. So let’s run it. Now, our 6 cats are not overlapping with each other anymore. They appear at different positions on the stage. Why, because when each clone is created, it run this script that starts with the “When I start as a clone” block. What does this script does? Well, pretty simple, it just moves this clone to a random on the stage. This is true for all 6 clones, and that’s why they all show up at different positions. And if we run this again, they go to another set of 6 random positions. Cool! |
| Point in different direction (Failed attempt) | * Of course, you are have synchronized swimming performance when each cat just goes to a random postion! Their action and movement need to be orchestrated. And this is what we are going to work on next. Let’s delete this “go to random position” block. 
* First let’s think about how we want to position the cats and what kind of dance we want them to perform. We want the cats to form a circle, evenly separated from each other. Now, here is little bit of Math: a circle is 360 degrees, right? And we have 6 cats in total. If we want to place them evenly on this circle, what should the degree be between any two adjacent cats? Simple, we just divide the total number of degrees, 360, by the number of cats, 6 and this gives us 60 degrees. For example, if the first cat points to 0 degree then the next one will point to 60 degrees, and the thrid one points to 120 degrees and so on and so forth until they complete a full circle. 
* Ok, we already know how to make a sprite point to some direction using the “Point in direction” block. Let’s add that under the “When I start as a clone” block and change the direction to 0 degree. 
* Test. Ok, all 6 cats now overlap with each other because without the “go to random position” block, they now all start in the same position back again. And, because each clone runs this script, all clones are now pointing straight up. 
* Problem: But in a synchronized swim, we want each cat to point to a different direction, and we have caclucated that to be 0 degree, 60 degrees, 120 degrees, and so on. But I can see you scratching your head and thinking “You have just told us that each clone looks the same as its parent and they run the same script. So how can it even be possible that they are different?” Yes, I did you tell you that each clone looks the same as its parent and behaves the same as they run the same script. But what I have not told you yet is that this is only true when you just create the clones withing changing anything! 
* Ok, before we go further, let’s take a detour into the world of biology. In biology, there is this thing called “gene” that stores different information about us. For example, our hair color, height, intelligence etc. We get those genes from our parents, so if you parents have black hair, then mostly like you are going to have black hair too. This is because your parents duplicate their genes and pass down to you. Of course, things are never perfect in life, and the genes can change when they get passed down from generation to generation. But, since this is not a biology course, for the sake of simplicity, we will just assume that it never changes when duplicated and passed down. OK, so far so good. But then something extraordinary happened, technology has gone so advanced that people can now start to manipulate and change genes and this is often called “Genetic Engineering”. For example, without any human intervention, if your parents have black hair, then you will have black hair too. Now, say if you want to have blue hair for whatever reason, scientists can now duplicate your parents gene, change it for blue hair, and then give it to you. Now, guess what? You have blue hair! Although I’m not sure whether your parents will like it!
* So back to our project, what if we can pass down a “gene” that determines the direction of each clone from the parent sprite? As we said earlier, a gene is somewhere to store some information. Does that sound familiar? Somewhere to store some information? Yes, variables! What if we can have a variable for the direction a sprite should point to, and this gets passed down every time a parent sprite creates a clone. Then in the clone, with this direction information, it knows where to point to. Just like when you have a hair color gene passed down from your parents, you body knows what your hairs color should be! Sounds good?
* Ok, let’s create a variable and called it ‘direction’. Now, we are facing with this question again: should this variable be “For all sprites” or “For this sprite only”. Now, in lesson “[Fruitopia](../Level2%20f841ea788a6f412db7884de2c891457c/12%20Fruitopia%203b258d4f3331463683fa10b562901415.md)”, we said that if some information is going to be shared by all sprites, we make the variable global by choosing “For all sprites”. On the hand, if that information is different for each sprite, then the variable should be local or “For this sprite only”. Now think about the direction, should all sprites, well clones are also sprites, right? So should all sprites point to the same direction, or should they each point differently? Of course, we want them to point to different directions! So surly we should make the “direction variable” local by choosing “For this sprite only”.
* Ok, now we have a gene or a variable to determine where a sprite should point to. In the parent sprite, we set it to 0, making it point straight up. Now, the parent is starting to create clones. For each new clone, the parent is going to make a copy of the gene or the “direction” variable, and pass it to the clone. Now when the clone springs to life in the “When I start as a clone” script, it can then use that passed down gene or “direction” variable to decide where it should point. So how do we make a sprite point to a particular direction? Yes, we use the “point in direction” block. And what direction should we give it? Yes, we have just received the direction information from the parent sprite in the “direction” variable, so just use that in the “point in direction” block.
* Test. Ok, as the clone counts shows, we have 6 clones. So the number is fine.
* Problem: But what is not fine is that, all clones are pointing straight up at 0 degree. Hmmm…  it like the parents have 6 kids and all of them have black hair. But what we really want is to give each kid a different hair color, like blue, red, yellow etc. I know, I know, this is crazy, but I still think it’s an appropriate example to show why genes are important. 
* Solution: Ok, so let’s find out why? First or all, what determines where a cat clone points to? Yes, its gene or the “direction” variable. Now, because they are all pointing to the same direction, it implies to us that the information in that gene or the “direction” variable must be the same? Right? Otherwise, they can’t be all pointing up. Let’s see if this is the case. Well, in the parent sprite, we set “direction” to 0. Now the parent copies this variable, creates a clone, and then passes that variable copy to the clone. So in the clone, what value do you think is stored in its “direction” variable? Yes, 0. Because the parent sprite just copies the variable without changing anything, right? And if all clones have their direction variables set to 0, then no wonder why they all point straight up. Ok, what can we do then? What can we do to make the clones point to different directions? Well, how do you make black-hair parents to have a blue-hair child? Yes, genetic engineering! We can change the information stored in a gene before it gets passed down so that child can have blue hair, or whatever color you wish! Since the gene here is this “direction” variable, we can also become genetic engineer by changing its value. For example, if we change its value from 0 to 90…
* Test. See? All 6 cat clones now point to the right, at 90 degrees! Because this time, the gene they inherit from the parent sprite has value 90!
* Problem: Ok, that’s one step forward, good! But we still cannot have each clone point to a different direction. Right now, changing the “direction” variable here is going to make all the clones change to a new but same direction. So what can we do?
* Solution: Now, before the parent sprite creates a new clone, it first copies the “direction” variable for this new clone. This copy is going to have the same value as the parent’s “direction” variable. So what if we can make the value in the parent’s “direction” variable different each time before we create a new clone? Then each clone’s direction is going to be different. So how do change the value of a variable? Yes, you use the  “change by” block. So what do you think would happen if we change value of the “direction” variable by 60 each time after a clone is created? The reason it is 60 is because each cat clone is separate from the next one on the circle by 60 degrees. Can you try to trace it through to see what is going to happen? Right, if you get stuck, it’s ok because it is not easy. So let’s walk it through together: initially, the parent’s “direction” variable is set to 0, right. Now the loop begins, before we create the first clone, the parent sprite first make a copy of its “direction” variable. What value do you think that copy has? Yes, 0. So this copy of the “direction” variable, with a value of 0, is passed to the first cat clone. And what does that cat clone do? It points to the direction specified by its copy of the direction variable, which is 0, so it points straight up. Now, here is important, after the clone is created, the run the next block which adds 60 to the “direction” variable. Now, be very careful, whose direction variable do you think this one is? Is it the parent sprite’s and the clone’s? Yes, it is still parent sprite’s “direction” variable, right? Now after adding 60 to it, what value does it have now? Yes, it becomes 60. Ok, so now we have first the first iteration of the loop and it starts all over again. The second time round, just before it creates the second clone, it makes a copy of the “direction” variable again for the second clone. Since now the value of the variable is 60, so what value do you think this new variable copy has? Yes, 60. And this gets passed to the second cat clone, who then just points to 60 degrees. Now, have look, there are two clones: the first one points to 0 and the second one points to 60. They point to different directions because, unlike before, their direction variables now have different values! And then the loop goes on, after creating the second clone, “direction” variable is increased by 60 again and becomes 120 this time. Then the loop starts a third iteration, creating a third clone, passing it a copy of the “direction” variable with value 120 and so on and so forth. I’m not going to trace it through here but you can do it on your own. But it is not hard to see that, when the repeat loop completes, we will have 6 cat clones, each pointing to a different direction, separated by 60 degrees apart. 
* Test. Let’s verify that! Now, if we run, Hooray! All six cats point to different directions! Exactly what we expect! So Cool!
* So we have finished the most difficult part of this lesson, actually, it is even the most difficult part of cloning because it is not too easy to get your head around all the things about having each clone look or behave differently using local variables. If you do manage to get this far still not get lost, congratulations, you have just overcome a big hurdle and the rest of this lesson should be much easier for you. And once you really understand how clone works, you are equipped with a such a powerful too to create projects and games that are more complex and interesting.  |
| Movement | * Ok, so all the cats are now still lumping together, let’s separate them out a little bit. This is easy,  we just need to move each clone in its current direction for some steps, say 100.
* Test. Cool, now they all move forward 100 steps and are separated out to form a circle. Again, as we can see, whatever blocks we add to the “When I start as a clone” script will be run by all clones. So if there is anything we want all clones to do, all we need to do is just add the code blocks to that script. Easy-peasy!  
* Now, it’s time for us to play the conductor and direct the swim! First, we want to be able to move all the cats forward and backward using the up and down arrow keys. From lesson “[Escape Room](../Level2%20f841ea788a6f412db7884de2c891457c/13%20Escape%20Room%20343925c206954817b27e356e7d66d8fe.md)”, we have learnt how to use “if then block” and the “key pressed” sensing block to detect if a key is pressed. And as we have shown in the lesson, this is a better way than using the “When key pressed” hat block. So in here, we want to check if “up arrow” is pressed, if so, we move forward 10 steps, and also if “down arrow” is pressed, if so, we move backward 10 steps. Also, do not forget to add the “forever” loop so that each clone keeps detecting if these two keys are pressed. 
* Test. Ok, now if I press the up arrow key, all the cats move forward in their current directions, and if I press the down arrow key, they all move backward in the opposite direction. Perfect! 
* Ok, apart from making them move forward and backward, I would also like to make them turn using the left and right arrow keys. So  add two more “if then” blocks, one for the left arrow key and the other one for the right arrow key. How do we make a sprite turn? Yes, we can use the turn right and turn left blocks. So, if the right arrow key is pressed, we turn right 15 degrees, if the left arrow key is pressed, we turn left 15 degrees. 
* Test. Woohoo, we can now not only move forward and backward, but also turn left and right, this looks so fascinating.  |
| Music | * Finally, let’s add some background the music to complete the whole thing.
* We usually add background music to the stage, so let’s go to stage, click the Sounds tab, search for “Dance Around” in the sound library and add it to the stage. 
* Back to the code, when green flag is clicked, forever, play sound “Dance around” until done.
* Test. Wow, this get even better. So Cool!   |
| Point in different direction (Using local variable “Direction”) a | * Previously, in the “Supermarket” example, we use a local variable “price” to store the price of each product. The code is very similar, but with a different price.
* Since clones are essentially sprites too, we can use local variable here too!
* For the supermarket example, you have to go to each sprite, create a “price” variable, and then select “For this sprite only”
* For clones, this become much simpler. We just need to create a direction variable, and then remember to select “For this sprite only”, this way, each clone will have a private copy of the variable “Direction”
* As always with variables, we need to give them some initial value say 90. Then we make original sprite point to “Direction” what is 90. Then we use the “Direction” variable in point in direction in the clone
* Run and all the cats still point to the same 90 degree
* Why? Well, we all now about genes, right? It’s something that you parents pass down to you. For example, your parents have black hair, then you have black hair too. This is because our parents pass down their “Black hair gene” down to us.
* Same with the “Direction” variable here. You can think of it as some kind of gene, and just like black hair, this gene represent direction 90. When we create a clone from the parent sprite, this gene gets passed down, so the clone also has a gene with a direction 90. And this happens for all the clones we create, and therefore they all point to the same direction 90. You might asking, “Ok, that is the case before we use the Direction variable, and we have gone through all the trouble to come back to where we were before?!”
* Well, wait, here is something different: Because gene, in biology can be modify, and once it’s been modified, the modified version gets passed down to the child. Same here, we can modify “Direction” before we create the clone, so the modified value gets passed down to the clones.
* Let’s give a try. What if, before creating a clone, we change the “Direction” value by increasing 60 (remember, each cat is 60 degrees apart). Let’s go through the code to try to predict what will happen: Initially, direction is 90, first time we repeat the loop, we increase it by 60 to 150 and then create a clone and this clone will inherit the direction variable with value 150. So it points to 150. Now we run the loop again and increase the direction one more time by 60 to 210. Then create a second clone, this time, this clone will have a direction 210. Similarly, this continues for the third, fourth, and fifth clones. 
* Test. Now, the six cats each points to their own direction correctly.
* Still they are too close to each other, so lets separate them a little bit by moving 100 steps
* Test. Good! |

### Further Exploration

- Can you create the same synchronized swim without using clones? Maybe have 6 cat sprites? Do you see why it is good to use clones?
- Can you add three more cats to make a total of 9 cats? How would you separate them this time?
- Can you give each cat clone a different color, or just anything that will make them look different?