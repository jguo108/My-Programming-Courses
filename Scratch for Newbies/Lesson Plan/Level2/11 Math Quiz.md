# 11 Math Quiz

### Reference

[Chatbot | Web-browser, Scratch | Coding projects for kids and teens (raspberrypi.org)](https://projects.raspberrypi.org/en/projects/chatbot)

[Y6a - L5 - intro chatbot on Scratch (mit.edu)](https://scratch.mit.edu/projects/405589608/editor/)

[Chatbot A212 on Scratch (mit.edu)](https://scratch.mit.edu/projects/304147208/editor/)

[ChatBot on Scratch (mit.edu)](https://scratch.mit.edu/projects/26762091/editor/)

[Chatbot on Scratch (mit.edu)](https://scratch.mit.edu/projects/432601024/editor/)

[Chatbot on Scratch (mit.edu)](https://scratch.mit.edu/projects/413294846/editor/)

[Using Ask/Answer - Basic Example on Scratch (mit.edu)](https://scratch.mit.edu/projects/17237180/editor/)

[Ziggy The Math Bot! Math Simulator #games #trending on Scratch (mit.edu)](https://scratch.mit.edu/projects/932735374/editor/)

### Objectives

### Background

### Project

### What to learn

- “ask and wait”, make analogy to “broadcast and wait”
- Nested blocks, e.g “join”

### Block

- ask and wait
- answer
- join
- + - * /
- text2speech extension

### Lesson Plan

| Step | Details |
| --- | --- |
| Introduction | * We all know that AI is becoming the next big thing. And one of its use in education is to provide every student the access to a personal tutor. By chatting with it, you can ask the personal tutor questions, seek for advice, and plan for your study path etc. 
* Of course, creating such an intelligent and powerful personal tutor is not an easy taking and requires a lot of experts in both AI and Education to work together.
* In this lesson, we will be building a simple Math tutor who is going to test you on simple arithmetic questions, such as addition and substation. You will try to answer those questions to best of your ability and see what scores you can get.
* Ok, without further ado, let’s dive in. |
| Scene setup | * Add backdrop and math tutor |
| Math tutor | * OK, the Math tutor is essentially a chatbot. Does anyone know what a chatbot is? Yes, it is actually just a computer program that you can chat with by typing and sending messages using a text box. 
* Our math tutor is somewhat limited, meaning it is only going to ask you very simple arithmetic questions: including addition, substation and multiplication. It will come up with a number of such questions, one by one, and after you have answered each one, it’s gonna let you know whether your answer is correct or not. If you get it right, your total score will increase by one. And by the end of the quiz, the math tutor is gonna let know how well you have done. |
| Ask/Answer blocks | * So we have seen previously that a sprite in Scratch can tell us something by using the “say” block. For example, in the very first lesson, “[Space Talk](../Level1%2051869bb3a8274fd0910ceb115e2e8daf/1%20Space%20Talk%209279809c3bb54275ae650a432e5b313f.md)”, Pico uses it to say “Hello” to us; in lesson “[Find the bug](../Level1%2051869bb3a8274fd0910ceb115e2e8daf/5%20Find%20the%20Bug!%200233a4c8bcd445bdaed12ee36178701c.md)”, the bug uses it to report how long it took us to find all the bugs. 
* But this is what I call a “one-way” conversation, meaning the sprite is telling us something, but there no way for us to respond to what it said. For example, when Pico says “Hello”, we have no way to say “Hello” back. That’s not polite!
* And for our math tutor, it becomes even more problematic, because if the tutor asks us a math question, we should respond by giving an answer, right? And once the tutor gets our answer, it needs to check if this is correct or not, and either praise us for the correct result or encourages us try harder next time. So this is clearly a “two-way” conversation, meaning there is some kind of back and forth between us and the tutor. So we clearly cannot use the “say” block for the tutor to ask questions. What we want is blocks for the tutor to ask us questions and receive answers from us. What should we do then? 
* Well, if we take a look at the Sensing category, two blocks draw our attention: “ask and wait” and “answer”. 
* Let’s first take a look at the “ask and wait” block. Now it already has a bubble with a question “What’s your name” in it. Now as we know, you can change whatever is a bubble to anything. Same here, instead of asking for name, we can asking anything. For example, “Can you tell me the answer of 1 + 1?” Now let’s run this by clicking the block. Ok, now you can see that the tutor is asking us a question. For the sprite, it looks just like what a “say” block would do: the sprite now has a speech bubble with the question in it: “Can you tell me the answer of 1 + 1?” But there is an important difference: a text box shows up at the bottom of the stage. This allows you to type in anything that would become your answer to the sprite’s question. Bye the way, it is a good time to explain why the block is called “ask AND WAIT”. What is it waiting for? Yes, it is waiting for your answer. Now before any answer is provided, the this block will just wait and not continue with the rest of the script. This will become more apparent if we put a “say” block after it to say “Well done! You have got it right!”. Now if we run the script again, the sprite asks the question and just waits there, it does not say “Well done! You have got it right!”. What if we type in “2” in the text box? Still nothing. This is because after typing your answer to the text box, you still need to send it to the sprite for it to know. How do you send your answer? Yes, you do so by clicking this little tick here. There you go, once you send back the answer, the sprite stops waiting and continue with the “say” block to say “Well done! You have got it right!”. So does this “ask and wait” block reminds you of another similar block we learnt before? Yes, the “broadcast and wait” block. There, we broadcast a message, and wait for whoever receiving that message to finished responding, before continuing. Very similar, actually, the “ask and wait” and be seen as broadcasting a question, and wait for whoever receiving that question to finish answering it, before continuing. Of course, in the broadcast case, another sprite receives that message; in the ask case, it is us, the player, who receives and answers the question. So in coding, it often helps if you can draw similarities between different blocks or concepts.
* Ok. So we send an answer back to the sprite. But where does it go? Now, if we answer that question with “3”, it still says “Well done! You have got it right!” Ouch, that’s not a very good tutor!!! How can the tutor respond base on what the answer is? For example, if we reply with “3”, then it might say “Oops, you’ve got this wrong, but it’s ok!” Now, it’s time to introduce the second block: “answer” Well, what is this block for? Remember the variables that we have leant previously? We say that they are just like labeled boxes where you can store all kinds of stuffs. Now, this might surprise you: the “answer” block is also a special variable. The reason it is a variable is because it is also used to store things like a box. It’s special is because, a normal variable is created by you and you give it whatever name you want and store whatever stuff you want. But the “answer” block is created by Scratch for you and has a name “answer” that you can not change, also, you only use it to store the answer of a question asked by the “ask and wait” block. 
* Let’s see this in action. Still with the simple 1 + 1 question. Now just like a variable, the “answer” block also has a checkbox next to it that you can toggle on or off to show or hide it on the stage. Let’s run this script again, now if I answer “2” and click, while the tutor is saying “Well done! You have got it right!”, notice that the value of the “answer” block on the top left corner also becomes “2” If I run this again and type in “5”, the tutor stills says “Well done! You have got it right!” but the value of the answer block now becomes “5”. As you can see, the “answer” block always stores whatever answer you give in the previous textbox prompted by the “ask and wait” block.
* Ok, now we know how to get the answer, we can make our tutor’s response more intelligent by giving different reply depending on whether the answer is is correct or not. So, let’s use an “if then else” block: If the the answer we gave is correct, then it will say “Well done! You have got it right”, else it will say “Oops, you’ve got it wrong but it’s ok!” Now what is left is to decide what the condition of the “if then else” block should be. Any idea? Yes, we now have the student’s answer in the “answer” block, and because the “answer” block is just like a variable, we can use the “equal” operator to check to see if it the same as “2”. If so, the answer is correct, if not, the answer is wrong. 
* Test. Now, when asked what is result of 1 + 1, if I type in 2, the tutor says “Well done! You have got it right”. Run it again, this time, if I type in 5, the tutor then says “Oops, you’ve got it wrong but it’s ok!”. |
| More questions | * Ok, so we now have a very basic math tutor giving us a very simple math quiz. There is just one question and I don’t think anyone here should have any difficulty in passing this. What we want to do next is just to add more questions, and maybe make it a little bit more difficult.
* This shouldn’t be too hard: all we need to do is just to copy what we have here, a few times, and just change the question as well as the if condition. For example, the next question might be “Can you tell me the answer of 19 - 9”. Since the expected answer should be 10, let’s change the if condition to compare “answer” block against number 10. We can add a third question, such as “Can you tell me the answer of 6 x 5”, Since the expected answer should be 30, let’s change the if condition to compare “answer” block against number 30. 
* Test. Now if we run this, we are being asked a total of three questions, one after the other, we might get some correct and others wrong. And of course, you can make the questions as simple or as hard as you wish. |
| Score | * Ok, for any type of quiz, it’s useful, if after answering all the questions, we get a total score to show how well we have done. You might score one for each correct answer and zero for each incorrect one. We need something to keep our total score as we progress through the quiz.
* This sounds like another perfect job for a variable. So let’s create a new variable called “Score”. When the program starts, “Score” should be set to zero because we have not answered any questions yet. Now, every time we give a correct answer, we are awarded one point, which means “Score” should be increase by one. So in the if branch of each question, just after the tutor congratulating us, we change “Score” by one. Do we need to do anything in the else branch when the student got it wrong? Well, it’s totally up to you! In some quiz, you don’t score anything if you get it wrong, while in others, they sometime penalize you by reducing your total score if the answer is incorrect. So I have decided to be nice and go with the former, meaning you don’t score any points when getting the question wrong. So we don’t need to change “Score” in the else branch.
* Test. Let’s make the variable “Score” visible and see how it will change. When we answer the first question correctly, “Score” is increase by one and becomes one. When we answer the second question incorrectly, “Score” does not change and stays one. When we answer the third question correctly, “Score” is increased again and finally becomes two. |
| Reporting Score | * Ok, so by looking the “Score” variable, we can tell, at the end the quiz, how well the student has done. But we only make “Score” visible because it helps us to better understand what is happening to our program when we code. But when the program actually runs, we would want to hide all variables. If that is the case, how can we know the final score. Well, easy, just let the Tutor tell us! So let’s add a “say” block after all the questions, and put the “Score” variable in the bubble.
* Test. Now when we have completed all the questions, the tutors says “2”. 
* Ok, that’s good, we now know our score is 2. But let’s imagine you being a student and it is your first time to take this quiz. And after you have finished all the questions, the tutor say “2” all of the sudden. How does that make you feel? Well, I think most likely you will feel a little bit confused: what does “2” really mean? Does it mean I got 2 questions correct? Does it mean I got 2 questions wrong? Does it mean I scored 2 points? Or does it mean 2 is my lucky number? What is going on here?
* So to avoid all these confusions, it’s better if we can give a clearer answer: for example, the tutor could say something like: “Your final score is 2”.  Now, how does that feel? Much better right? So let’s do it! We could add another “say” block before the current one and say ”Your final score is ”.
* Test. Ok, that’s better, we now know what the “2” really means. But it still feels a bit awkward: the tutor says “Your final score is ”, then waits for 2 seconds, and then finally says “2”. Ideally, we want “Your final score is 2” as one single sentence and can be said using just one “say” block. This means we need to be able to join the sentence “Your final score is” with the number “2”. But how?
* If you now take a look at the Operators category, there is a “join” block with two bubbles. Let’s see how this can help us. Now, the two bubbles are filled with “apple” and “banana”. If we click it, the result shows “apple banana”. So it joins the word “apple” with the word “banana” into one word or sentence. It can also join words with numbers, so for example, let’s type in “Room” in the first bubble and “101” in the second, now the result becomes one word “Room101” What if we want a empty space between “Room” and “101”? Easy, just add a space after the word “Room”. Now there is a space separating the word “Room” and the number 101. So this is something important to keep in mind, when the “join” block joins two things, it does add any empty space in between. If you want a space to separate them, you need to add that space yourself.
* So, we now have a way to join the sentence “Your final score is” and the “Score” variable: just add a “join” block in the bubble of the “say” block, type in “Your final score is” in  the first bubble of the “join” and add variable “Score” to the second bubble. 
* Here, I would like to explain a little bit more: Whenever you create a sentence to say, you first need to break it down to see what are the parts, how you can find them and then join all of them together. For the previous example “Your final score is 2”, we can break it into two parts, the first being the partial sentence “Your final score is”, the second being the actual score. Now, for the first part, we can just type it in, no problem. But for the second part, the actual score, we have no idea what number that would be until the student has finished all the questions. Clearly, we cannot type it in beforehand. So for example, if I type in one, but what if the students get two questions correct? But fortunately, we have the score stored in a variable, what that is where we can get the second part of the sentence from. So the remaining job is just to join these two parts together to create a full sentence.
* Test. Now when we get the the end, the tutor says “You final score is2”. Ok, it’s almost perfect, except one small issue, there is no space between the word “is” and number “2”. And the solution is? Any one? Yes, just type in an extra space at the end of the sentence “You final score is ” and try again. There you go, Perfect!  |
| Greeting | * Ok, normally when you take an online quiz, instead of starting with the questions right away, as what we are doing here, it often starts with asking for your name, and then maybe some greeting, and perhaps even some instructions, something like “This quiz contains 3 questions, and you will score one point for each correct answer and zero for each incorrect one”. This just gives the student some background information about to take the test.
* We are going to keep it simple here. When the program starts, the math tutor is first gonna ask for the student’s name. Let’s say we type in my name “Jing”, the tutor then says “Hello Jing, welcome to the quiz!”, then we can start asking all the actual questions.
* Ok, so after the program starts, let’s add another “ask and wait” block. So the question here is gonna be “Hello, what’s you name?”
* Test. Ok, so once the quiz starts, we are asked our name. So let me type in “Jing”. Ok, now we can see that the value of “answer” block becomes “Jing”. 
* But right now, it goes straight to the actual questions. We want to add a greeting from the tutoring saying “Hello Jing, welcome to the quiz!” So let’s first add a “say” block after this “ask and wait” Now, we need to think about how to create the greeting message.
* So, take a look at the message, the “Hello” is just a word, then “Jing” is the value from the “answer” block, and finally, the comma and “welcome to the quiz” is another sentence. So, we could create this sentence with a “join” block having three bubbles, joining these three parts of the greeting message. Unfortunately, if you look at the operators category, we only have one “join” block with two bubbles, meaning that it can only join two things, and not three. Hmmm…. so what can we do here?
* Let’s first use one “join” block to join “Hello” with the value in the “answer” block, “Jing”. Now if we click and run it, we can see the result is a message “Hello Jing”. Ok, so to create the whole greeting message, can we join “Hello Jing” with the rest of the sentence? Of course we can! Let’s add a second “join” block, now watch, the first “join” block can fit into the first bubble of the second “join” block nicely, and if we type in comma “welcome to the quiz!” in the second bubble, what do you think is result is gonna be? Yes, it will be “Hello Jing” comma, “welcome to the quiz”!
* Test. Let’s put the second “join” block into the “say” block and test! Ok, what is your name, Jing, Wow, it’s greeting us with a message “Hello Jing, welcome to the test”. Then it continues with the actual math questions. Beautiful!
* So as you can see, when you want to create complex sentence using the “join” blocks, you can put “join” blocks inside other “join” blocks. As a result, you are not limited to only joining two things, in fact, you can join as many thing as you like. How cool is that! |
| Issues with the basic version | * Ok, we now have a very basic math tutor that can ask us questions and evaluate how well we have done. But as one of my friends used to say “always throw away the first version you wrote” Whether it is writing article or coding program, the first version you create might be ok and gives you a good starting point, but you can certainly do better!
* Let’s see what problem we have for this basic version. Any one can see any issue?
*Problem: Ok, that’s all very good answers. So I can see at least the following two issues: First, if we want to add more questions, we are going add more and more these “ask and wait” and the “if then else” blocks. Now, imagine having a quiz with 50 questions and think about how long this is gonna become! And as we all know by now, long scripts is bad, and less code is better code. What’s more, the code for each question is going to be very similar, so there is a lot of repetition here. The second and bigger problem is that this is not a very good quiz at all! Why? Well, if the quiz contains the same questions each time you take it, do you think you can learn new knowledge and make yourself better at solving math problems? No, we need different questions each time and not just those three same questions again and again!
* So let’s see what we can do next to solve both problems!  |
| Question repetition | * Solution: So the first problem is that if we just keep adding more code each time a new question needs to be asked, the script will become very very long. And because the code for each question is very similar, that sounds like a perfect cast for some loops! So lets take the first question out and put it inside a “repeat” block for 3 times. Then at the end, we are reporting the final score as before. 
* Test. Ok, let’s give is a try. Name is “Jing” and the questions, ok 1 + 1, is 2, and then another question of 1 + 1, 2 again, and a third question, still 1 + 1, and just for fun, let’s reply 3, ok, final score 2. 
* Problem: It’s good that we are asking three questions by just having one copy of this script. Remember, previously, we have three copies. That’s good. But what is not good is that all three questions are the same now! Well, that should not be a surprise to you, because the loop here repeats 3 times, and each time, we are running the same script, always asking the question of 1 + 1. Hmmmm….So how can we create a different question each time? 
* Solution: Now let’s first think about what a question is made of: it has a first number, the number on the left of the plus sign, an operator, the plus sign itself, and the number on the right of the plus sign. So three parts, right? Ok, to create a different question each time, we need to pick the numbers and operators differently each time. But how? Do you have any idea? Let’s first take a look how to pick different numbers. Remember the “pick random” block? Yes, it allows you to pick a random number from a range of numbers each time. Do you think we can use that to pick the numbers for our questions? Shall we give it a try? First let’s limit the two numbers within the range from 1 to 100 and we need two such blocks for the two numbers. Next, we need to change the question. Right now it’s 1 + 1, we want to replace these two ones by two random numbers. So the question now becomes “Can you tell me the answer of (random number) + (random number)”. How many parts do you think this sentence has? One? Two? Three? I think there are four parts: the first part starts from the word “Can” all the way to just before the first random number, that is the word “of”. The second part is the first random number. The third part is the “+” and the final part is the second random number. So can you give it a try to see if you can use the “join” block to join these four parts to form a full sentence? let’s have a 5 min break and see if you can figure this out. Ok, time’s up, let’s do this together! Now, there can many ways how you join the parts, and here is how I would do it, I always start from the right and work my way to the left. So the first two parts I want to join, starting from the right, are the “+” and the second random number. So let’s join the two using a “join” block. Now we have only three parts because the last two have just been joined together and this new “join” block now becomes the right most part. So let’s continue, now the right most two parts I want to join are the first random number and this “join block”, so we add another “join” block to join them. Ok, after this, we only have two parts left, the partial sentence “Can you tell me the answer of ” and this big giant “join” block. So, we add one more “join” block and join these two parts together. Ok, now we have a full sentence for the question and let it into the “ask and wait” block.
* Test. Now if we run the program again, see, each time, a different question is asked! So Cool. 
* Problem: But there is problem, for each of the question, I type in 2 as the answer, and the tutor always happily accept it and says it’s correct! Why? Well, take a look at the if condition here, what are we checking? Yes, we always check if the answer is 2, and becaue we type in 2 each time, of course, it’s gonna accept it! Previously, when the question was 1 + 1, we know the correct answer is 2 and use it in the if condition. But now, we have two random numbers which we do not know beforehand, so in the if condition, what should we compare “answer” block with? Yes, we want to compare “answer” with the sum of the two random numbers. In Scratch, you can get the sum of two numbers using the “+” block in the Operators Category. So for example, if I type in 1 in the first bubble, and 2 in the second bubble, click the block and it gives you 3. And you can also see three other very common arithmetic oeprators, “-”for substration, “*” for multiplication and “/” for division. Ok, so back to the if condition, we want to check if “answer” is equal to the sum of the two random numbers. But where are the two random numbers? Yes, they are in the question sentence of the “ask and wait” block. But how can we get those two numbers here in the if condition? Well, you might be tempted to say we can just add two “pick random number” blocks in the add block. Would that work? What do you think? Unfortunately, that won’r work. Why? Because “pick random number” will most likely pick a different number each time. So let’s say when the tutor ask the questions, the two random numbers picked are 4 and 11. So the correct answer should be 4 + 11 = 15, right? Now when it comes to the if condition, it is likely that two other different random numbers will be picked for the addition, let’s say they are 9 and 21. So what is 9 + 21? 30, right? So the question was asking 4 + 11, but the it checks if the answer is 30 instead. Ouch! So what we really want is to use the exact two random numbers in the question for the if condition, that is 4 and 11 in our example. But again, how? Any idea? 
* Solution: Well, we have learnt a way to store something aside that use it later. Can you guess what that is? Yes, variables! We can store numbers into variables and later access the numbers by using the variables intead. So we can do the same here, just store the two random numbers into variables and then we can use those variables in both the “ask and wait” block and the if condition. Ok, let’s create two variables, “first number” and “second number”, when the loop starts, let’s set both “first number” and “second number” to some random numbers. After that, instead of picking random numbers again, we can just use these two variables in the “ask and wait” block. Then we can use these two variables in the addtion block in the if condition too. Now let walk through an example again, say the first random number is 4 and stored in variable “first number” and  the second random number is 11 and stored in variable “second number”. Now, when the question is asked, because variable “first number” stores 4 and variable “second number” stores 11, so the question becomes “Can you tell me the answer of 4 + 11”. Then in the if condition, variable “first number” + variable “second number” is the same as 4  + 11, which is 15. So we are checking answer with 15, exactly what the question was asking. Perfect!
* Test. Cool |
| Mix addition and subtraction | * Ok, so we are now able to ask different questions each time. But all the questions so far are about adding two numbers. However, in a real quiz, apart from addition, you are tested on subsctration, multiplication, and division as well. So let’s add some questions on substration too!
* Ok, We already have all the code to ask an addtion question and check the answer. Let’s see how we can handle substraction instead. What do you think we need to change here so that the math tutor will ask substration questions instead? Yes, we need to change the plus sign to a minus sign in the “ask and wait” block and use a “-” block in the if condition instead, right?
* Test. Ok, all three becomes substration questions now. Cool.
* Problem: But the problem here is that we now only have substraction questions and no addtion questions at all. Whereas before the change, we only have addtion questions and no substration questions. Neither case is ideal, instead, we want a mix of addtion and substration [questions.](http://questions.Now)  
* Solution: So when I was about your age, I used to play football a lot. To divide all of us into two teams, the red team and the blue team, we normally prepare a box of red cards and blue cards. Each one of us randomly draws a card from the box, whoever gets the red card goes to the red team, and whoever gets the blue card goes to the blue team. Do you think we can use the same strategy here for deciding whether a question should be addition or substraiton? For each question, we randomly draw a “card”, but instead of a red card or a blue crad, it could be a card with a number 1 or 2 on it. If the card is 1, we ask an addition question; if the card is 2, we ask a subscration question. So let’s create a variable “card”, after selecting two numbers, we set the card randomly to either 1 or 2. How can we do that? Yes, we just use the “pick random number” and set the range from 1 to 2, this way, it only gives either 1 or 2. Now we have a card, if it is one, then we ask an addition question, else we ask a subscration question. We can use the “equal” block to check if “card” is 1. In the else branch, we add the script that asks a subsctration question.
* Test. Now, every time we run the program, we can see a mix of addition and subsctration question. Also, because we pick both the numbers and operator randomly, each time you run the program, you will have three different questions. That’s cool! |
| text2speech extension | * just for fun |

### Further Exploration

- Add questions for multiplication and division
- Experiment with the text2speech extension
- Can you reduce the score for each incorrectly answered question?
- Can you keep track of how many questions the student got right and how many got wrong, and report the number of right questions and wrong questsion at the end? For example “You have got 7 questions rigth and 3 questions wrong. You final score is 7”

### Exercise