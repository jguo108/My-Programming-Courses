# 3. Catch the School Bus

[Scratch coding projects for kids and teens | Catch the bus (raspberrypi.org)](https://projects.raspberrypi.org/en/projects/catch-the-bus)

### Attention

Maybe replaced by the “Fruit Catcher” example in book <25 Scratch3 games for kids>

### Background

**Animation** creates the effect of movement by changing pictures quickly. The first animators carved pictures out of wooden blocks and used them as stamps. It is much faster to use Scratch to code your animation!

### What to Learn

- Adjust sprites sizes in property panel
- Use degrees to represent directions
- Direction clock in Scratch
- Rotation style in Scratch
- Change rotation style using code block
- Create animation by switching costumes
- Move sprite
- Loop
- Use repeat loop to avoid repetition
- Show and hide sprites

### Blocks

- point in direction
- set rotation style
- switch costume to
- next costume
- move
- repeat
- show/hide
- turn right/turn left
- change x by/change y by

### Lesson Plan

| Step | Details |
| --- | --- |
| Introduction | * Ok, welcome back everyone! In the last lesson, we have created a very simple animation of an exploration boat searching for treasure. We have learnt how to move sprites on the stage. In today’s lesson, we are going to continue the theme of creating fun animations. But this time, we are going to step things up! Let’s first take a look at what we are going to build together and what the final animation looks like!

* This is about three animals in the African savanna, the bear, the parrot and the hedgehog, all trying to catch a school bus! Once they are all on the bus, it leaves for the Animal School! What is interesting about this animation is that, all three animals move in different ways towards the bus: the bear walks, the parrot flies, and the hedgehog rolls! We will be combing what we have learnt about switching costumes and moving sprites in the last two lessons. Furthermore, we are also going to see how to get sprites rolling! 

* Sounds fun? let’s get right in!  |
| Add backdrop | * Ok, let’s first get the stage all setup! From you have seen from the final animation, what backdrop and sprites do you think we would need? Yes, the backdrop looks like some kind of savanna in Africa. And we have four sprites, the parrot, the hedgehog, the bear and the school bus. Let’s set them up one by one. 

* First, the backdrop. Let’s try the backdrop library first to see if there is one that we can use. Click and select the blank backdrop, choose the “Backdrops” tab, in the Backdrop Editor, select “Choose a Backdrop”. In the backdrop library, if we search for “Savanna”, and yes, there is already a savanna backdrop. I think it looks cool and we can just use it! Double click it and it is added to our backdrop list. Now, we do not need this blank one called “backdrop1”, so let’s just select it and click the trashcan icon to remove it. Now, back the main editor, and we are in the Savanna now! Cool! |
| Add sprites | * Next, the sprites. For the three animals, we are going to choose them from the Sprite Library. Select “choose a sprite”, in the sprite library, search for “bear”, and three results come up: one called “bear”, one called “Bear-walk”, and one is a polar bear. We are going to use the “bear-walking” sprite. So double click it to add to our project. Then we just repeat the same process, and search for “hedgehog” and “parrot” in the library and add them both. 

* Now, all three animals are on the stage, but there is a small problem, they are all too big! The parrot and the hedgehog are almost as big as the Bear. We need to make their sizes more realistic. Now, in the previous lesson, we have learnt one way to make a sprite smaller: we go into the Costume Editor and shrink the costume down directly. We could do the same here. For example, let’s select the Bear sprite, go to “Costumes”. Here, the bear has eight costumes, from bear-walk-a to bear-walk-h. Later on you will see that we need all eight costumes. If we want to make the Bear sprite smaller, we have to change all eight costumes. And more importantly, we need to make sure all eight costumes are still of the same size after the change. But this easier said than done. Let me show you. First, let’s select bear-walk-a. Now, click the bear on the canvas to select it. But here you would notice something strange. Unlike the sprites in the last lesson, here, the bear costume is actually made up of different parts, it is not a single image. If we just select one part and shrink it down, for example, the leg here, it’s not going to work! You just made one leg smaller and the rest remains the same! Let’s press Ctrl+Z to undo it. So what can we do? Well, you can select all parts of the bear costume by clicking anywhere on the canvas and then just drag out a rectangle to make sure it covers the entire bear, then let go off the mouse. Now, the entire costume is selected. And you will see a big rectangle that contains the entire bear costume. If you now drag and change the size of this rectangle, then you change the size of the entire costume! Awesome! Once the size is small enough, just make sure to move the costume back to the center of the canvas! Ok, one costume done, next, bear-walk-b. By the way, you can see that this costume is slightly different from the previous one, with its from legs slightly higher. Again, we will be using all costumes here to create a walking bear animation. But more for later. Now, we can do the same to shrink this costume, select all, and make it smaller. But here is the problem, how small? Well, you might say “make it the same size as the previous costume!” But how? You can use your eyes, to make their size close enough, but it is going to be very difficult to make it exactly the same! See the problem? And if these costumes are not exactly of the same size, then later on, when we use them for animation, it is going to look weird! So, this way of changing the sprite size does not work quite well here, we need something better! But before that, we need to get the first costume back to its original size. Unfortunately, press Ctrl+Z does not help anymore. So the only way is to go back to the main editor, delete the Bear sprite, and add it back from the library again. Cool! 

* OK, what is the second method to change sprite size? Well, take a look at the sprite’s property panel just below the stage. Do you see anything that might be useful? Yes, there is a property named “size”. What do you think this one is for? Yes, it’s for setting the size of the sprite! Now, all sprites, when first added to the stage, have their size set to 100, just like the Bear here. To make the sprite smaller, all you need to do is just enter a number smaller than 100. For example, I want to make the Bear smaller, so type in “50” and hit return. Daata, the bear becomes half as big. If we type in number bigger than 100, it’s going to make the sprite bigger. For example, if I type in 200, then the Bear becomes twice as big! Simple as that! For this animation, I think setting the Bear’s size to 70 is about right. The good thing about setting size here is that, you do not need to mess around with the sprite’s costumes. And if we go to the Costume Editor and choose a different costume, say bear-walk-b, and go back to the main editor, you can see that the bear still has size 70, although it’s a different costume now. This is way more convenient than the previous method and it makes sure that the sprite always has the same size irrespectively of its current costume. Cool. Now we just need to select the Hedgehog and the Parrot sprites and set their sizes properly. For both sprites, I think size 40 looks good. Cool!

* Finally, we need to add the school bus that’s going to take all the animals to school! The sprite library does not have a good school bus sprite, so I have prepare one for you. Now, you should be quite familiar with how to upload a local sprite by now, right? Select upload a sprite, in the file explorer that pops up, find the “Resources” folder for this lesson, and finally open the “Sprites” folder inside. Now you should see a png file named “School Bus”. Double click to add it to our project. Now, again, this sprite is too big. We could resize its costume in the Costume Editor, or as we have just learnt, change its size by typing in 40 in its size property.  |
| Move sprites in place | * Ok, all sprites are on the stage! Since they are all coming from different places towards the school bus, we first need to place each sprite at the correct starting position. This can be done by just dragging and moving each one. For example, we can place the school bus on ground, near the center,  the parrot up on the tree, the hedgehog to the left of the bus and the bear to the right of the bus. That’s ok. But just like the boat in the last lesson, each time we run the animation, we want it to start at the same position. Still remember how we did it? Yes, we simply use the “go to” block to make it start from the same position each time the animation begins when the “Go” button is clicked. So we can do the same for all the sprites here! 

* First, select the school bus. Drag a “When flag clicked” hat block to its code area, this is going to start the school bus script when the Go button is clicked. How do we move it to the starting position? Yes, we use a “go to” block from the Motion category. Now, the x and y coordinates in this block is the current position of the sprite, so there nothing we need to change. Just connect this block to the “When flag click” block and you are done! Now, if we move the school bus somewhere else, and then click the Go button, it always goes back to the same position. Nice! Ok, we just need to do the same for the other three animal sp  rites. Let’s have a 3 minute break and complete this together! Ok, times up! All finished? Awesome! So now, it doesn’t matter where you place the sprites, every time the Go button is clicked, they all go back to the same starting positions, very cool! |
| Make bear face school bus | * OK, it’s time for the animals to catch the bus! Let’s start with the Bear. We want it to walk slowly from the right to the bus. 

* Problem: But immediately, we can see a problem: it’s not facing the bus right now. Instead, it’s facing right, the exact opposite direction. So before it can move, we need to get the direction right first. 

* Solution: If you take a look at the property panel, there is a property called “direction”. Now, let’s step away from Scratch and think about what “direction” means. A direction refers to the way something is moving or pointing. For example, when driving, I can say “I’m heading north or south” and that’s my direction. But sometimes, simply knowing north or south is not enough, the direction needs to be more precise, because there can be many more directions apart from these two. That’s why people start to use what’s called “degree” to refer to any exact direction. And the degree is just a number and this is why you are seeing 90 here for the “direction” property. But what direction is 90 degree? Now, if you click the direction property, a circle that looks like a clock shows up. There is a arrow, like the needle of the clock, point to the right. This is the direction of 90 degree. So the direction of 90 degree is right. Now, you click the arrow and hold it, you can start to rotate it! While doing so, two things happen: first, the bear sprite also rotates in the same way as the arrow. Secondly, the degree number of the “direction” property changes as the arrow rotates. If we keep rotating the arrow counter-clockwise, the degree becomes smaller and smaller until it reaches 0, at which point the sprite is pointing north or straight up. So the direction of 0 degree is up. Now, if instead we rotate the arrow clockwise, the degree becomes bigger and bigger until it reaches 180, when the sprite is pointing south or straight down. So the direction of 0 degree is down. And of course, as we rotate, the direction can be anything between 0 and 180. Ok, how do we point the bear to the left then? Well, let’s first make it point straight up. We can just type in 0 here. Now, watch, as I keep rotating the arrow counter-clockwise,  the direction becomes negative numbers! And as I keep rotating, the degree goes from -1 to -2, to -90, when it actually points to the left. If I continue on, the degree goes from -90 all the way to -179. At -179, if I rotate just a little bit more, degree goes back to 180. Ok, so here we have zero degree at the top, all positive degrees on its right and all negative degrees on its left. Hmm…have we seen something similar before? Yes, it is just like the horizonal x axis when we talked about the coordinate system in the last lesson. There, we have 0 in the middle, every number on the right is positive and every number on the left is negative. The only difference is that, here, the numbers are on a circle instead of on an infinite horizontal line. The result is that, at the bottom of the circle, -179 and 180 degrees are right next to each other, and you can go from other to the other! Any way, we now understand that to make the bear face left, all we need to do is just to type in -90 for the direction property.
 
* Problem: Hmmm….Ok, the bear is indeed facing left now. But there is a new problem: it is upside down! What is going on here? 

* Solution: Now, if we click and open the direction clock again, below the clock face, do you see these three little icons? They actually control what we called the “Rotation Style”. In other words, they decide how the sprite is going to rotate. Let’s look at them one by one. The first one, which is already selected here, is called “All Around”. This means you can rotate and make the sprite point to any direction you like, just like what we have been doing for the Bear here: it’s head always points to the same direction of the arrow. Let’s then look at the last one, which is called “Do not rotate”.  Well, the name clearly suggests that the sprite cannot be rotated if this is chosen. We can try, now, no matter where you point the arrow to, the bear does not rotate at all! Finally, the one in the middle is called “Left/Right”. This means, as you rotate the arrow, the sprite can only face left or right. If the arrow is in the right half of the clock, the sprite points the right, and if the arrow is in the left half of the clock, the sprite points to the left. There won’t be any other directions. More importantly, when using this rotation style, the sprite won’t go upside down when switching from right to left. This is exactly what we need here. So let’s stick with this style. 

* Ok, so for new each sprite added to a project, if we want to change its direction and rotation style, we can always do it with this “direction” property here manually. But hey, just like we use a “go to” block to place a sprite at the same starting position when the Go button is clicked each time, wouldn’t it be nice if we can also set the sprite’s direction and rotation style? So that we don’t need to do it manually anymore!  Well, you are lucky, my friend, Scratch have you covered! Take a look at the Motion block category and see if you can find anything useful! Aha, there is a “point in direction” block. Any guess what it does? Yes, it makes the sprite point to certain direction! And you tell the sprite where to point by by entering the degree in the slot here! Let’s try. It’s default value is 90, as we know, this points to the right. If click the block, the bear turns its head to the right again. Now, how do we make it turn back to the left? Yes, we enter -90 degrees. Now if we click it again, it turns back to the left. Cool. How about pointing up. This will be 0 degree, right? Let’s try! Hmmm… instead of pointing up, the bear points to the right again? Why is that? Aha, yes, because remember, we have changed the Bear’s rotation style to “Left/Right”, so, it can point to left or right, and never any other directions. Luckily there is another block to change the rotation style, and it is called “set rotation style ”. This block has a dropdown menu where you can find all three styles we discussed before. If we choose “all around”, run the block so that the bear can rotate freely again. Now, if we click and run the “point in direction” block again with 0 degree, now you can see the bear points straight up! Ok, that’s cool. But what we want is the “Left/Right” rotation style, so let’s change it back. After the bear goes to the starting position, we can then set its rotation style by connecting this block below the “go to” block. With this style set, we can then make the bear points to the left by running the “point in direction” block next. Make sure you set the direction to -90 degrees.

* Test. Now, every time we start the program by clicking the Go button, the bear always faces left towards the school bus. Problem solved! |
| Bear catches bus! | * Ok, next, it’s time for bear to catch the bus! This means it needs to move from where it is now to the school bus sprite. Does anyone still remember how we can move a sprite? Yes, we have learnt in the last lesson a few Motion blocks, such as “go to” and “glide”. Which one do you think we should use here? “Go to” or “Glide”? Yes, “glide”, because “go to” would just makes the sprite look like it’s been teleported, which is not very realistic. Now, there are two kinds of glide blocks, one glides to x and y coordinates and one glides to another sprite? Which one is better here? Yes, the one that glides to a sprite. We can just pick the school bus from the dropdown list. And finally let’s add that block at the end of the script. Ok, let’s give it a test!

* Test. OK, the bear glides to the bus as expected. That’s good. But remember, we always try our best to make the animation as good as we can. Right now, the bear’s movement looks a bit strange: it does not walk to the bus, instead, it just glides there. Well, this is because we use a “glide” block, so fair enough. But can we make it more realistic so that it’s actually walking? 

* Solution: Well, in the first lesson “Space Talk”, I have shown you a video about a flipbook. So with a sequence of images where each one is slightly different from the previous one, you can creating some pretty interesting animation by quickly flipping through it. Now, think about how does a bear walk. Let’s do this in slow motion. A bear has four legs, two at the front and two at the back. Now to walk, it first lifts its left front leg and right back leg. Now, say we use a camera and take a snapshot of its posture at this moment in time. This becomes one page in our flipbook. Next, it puts both legs down. Again, we take snapshot of this new posture and add it as the next page of out flipbook. Next, it lifts its right front left and left back leg, and we take a snapshot, put it in the flip book. Finally, it puts those two legs down, we take another snapshot and put it in the flip bool. Now we have four images with four slightly different postures in the flipbook. Imagine repeating this again and again to create a flipbook with a sequence of images, if we now flip through it, we should see a walking bear, right? This all sounds good in theory! So how do we do it in practice? 

* First, we need bear images of different postures. Well, we have already seen that the bear sprite has eight different costumes. Let’s take a look at those again. If you click through those eight costumes, you can see that each has a lightly different posture, and just like a flip book, they together creates a simple walking animation! Very cool! So if we can get the bear to switch it’s costume one after the other, then we can create a walking animation, right? Hmmm….switching costumes….sounds familiar, I have seen that somewhere else? Can you remember? Yes, in the first lesson, how did we create the animation for Nano to express “Thank you”? Yes, we switch between the costumes with both arms up and both arms down. We can do the same here, right? 

* So, let’s first move the glide block to the side and not worry about moving the bear for now. Go to the looks category and drag out a “switch costume to” block. We have seen and used this block before and it shouldn’t look too new to you. So at the beginning, let’s switch the costume to bear-walk-a and add this block to the end of the script. Then just like flipping through a flipbook, we are going to switch the costume from one to the next. So add another “switch costume to” block, choose “bear-walk-b” and add it to the end of the script. Then just repeat this until we get to the last costume “bear-walk-h”. Ok, are we going to see the walking animation if we click Go now? Let’s find out!

* Test. Hmmm….nothing happens. Yes, the bear is not going to move to the bus because we have just moved out the glide block, that’s expected. But what is not expected is that there is not walking animation although we have flipped through all eight costumes. What went wrong here? Anyone? AHa, yes, brilliant! We had the same problem when trying to animate Nano in the first lesson. The problem is caused by the fact that the code runs so fast that we do not even see the change. What’s the solution then? Yes, we slow it down by waiting for a bit after switching to each new costume! Where can we find the wait block? Yes, in the Control category! So let’s drag one out and place it after switching to bear-walk-a. Let’s leave the wait time 1 second for now. Then just add 7 more, add each one after switching to a new costume. Ok, all done. Let’s test this again! 

* Test. Aha, yes, this looks more like it! The bear starts to walk! But the movement seems a little bit too slow. This is because waiting for one second between switching costumes is probably too long. Let’s make it shorter, how about 0.1 second, that is one tenth of a second. Let’s try this again. Yes, this looks like the normal speed that a bear would walk. Perfectly.

* But before we move on, I would like to make a small change to our code. Currently, we use the “switch costume to” block to change the costume from the first one all the way to the last one. There is nothing wrong with this method. But if there are a lot of costumes, it can be very easy to make a mistake and select a wrong costume. For example, here, I might accidentally select bear-walk-b again. If this happens, then the final animation is not going look as good. If all you want to do is just to go from one costume to the next, there is a better way to help you avoid making such mistake. Take a look at the Looks category, do you see the “next costume” block right after the “switch costume to” block? Can you guess what it does? Yes, as the name suggests, it switch to the next costume. So if we keep clicking it, you can see that the bear changes its costume one after another. And we essentially have the same animation. So, how do you think we can use it in our script? Yes, we can just replace all the “switch costume to” blocks with the “next costume” block! Let’s do that! Ok, all done. Let’s try again. 

* Test. Yeah, we still have the same walking animation. But now, it’s unlikely that you would accidentally select the wrong costume and mess things up. Pretty cool!

* Ok, the walking animation is done. But the bear never leaves its starting position! This is expected because we have removed the glide block. Now, to catch the bus, it’s time to add it back! Now here is question, where in the script should we insert this glide block back? Should we do it before the walking animation or after it? Let’s try both! First, let’s insert it just before the first “switch costume” block. Try this out! Ouch, the bear first glides to the bus, and then start the walking animation at the bus! This looks weird! Can anyone explain why? Yes, exactly because we place the glide block before all the walking animation code. Right, then how about place it at the end of the script, after all the “switch costume” blocks? Can you guess what is going to happen this time? Yes, most likely the bear is going to walk at the starting position and then glide to the bus. Let’s see if this is indeed the case. Yes, just as we expect! This still looks weird! 

* Now, take some time to think about it, what do we really want the animation to look like? Well, we don’t want the gliding to happen either before or after the walking animation. We want it to happen with the walking animation. This means, after switching to each new costume, the bear should move a small distance towards the bus. This way, the bear gets closer and closer to the bus as it switches costumes. But how do we get a sprite to move forward some distance? Previously, we have learnt the “go to” and “glide block”. But they only move a sprite to a specific x/y coordinates or another sprite on the stage. They don’t seem to be particularly useful in this case. Here, I will introduce yet another block in the Motion category called “move”. This is pretty simple, it just moves a sprite a number of steps in the direction it’s currently facing. For example, our bear is facing left now, so if we click this block, it moves the bear 10 steps to the left. What if we change the bear’s direction to 90 degrees, that is to the right. Then clicking the “move” blocks moves the bear to the right 10 steps each time. Cool. Let’s set the direction back to -90 degrees. 

* Ok, with this “move” block, what we can do is that, after switching to each new costume, we also move the bear a small number of steps forward towards the bus. The result should be that, instead of gliding, the bear walks slowly to the bus. Let’s put this into code and see if this is the case. First of all, we no longer need the “glide” block anymore, so let’s delete it. Next, let’s add a “move” block after each “switch costume” block. Now, for the number of steps, let’s try 5 for now. We can always  change it later if this turns out to be too fast or too slow. OK, we have added a total of 8 “move” blocks. Let’s test this out!

* Test. Aha, yes, see how good the animation has become? The bear comes to live and it is actually walking! Awesome! But there is a small problem, it stops before reaching the bus. Ideally, it needs to be at the bus to be able to get on. So we need to make it move further. How? Aha, yes, we just need to do more of these three steps: switch to the next costume, move 5 steps, and wait for 0.1 seconds. But how many more. I don’t know, we could try to switch costume and move 8 more times. This means we need the same code there and add it to the end of the script. Now, dragging and added all these blocks again is a lot of work! Fortunately, in Scratch you can make a copy of any code or script. So the code that we want to make a copy of is this part from the first “next costume” block all the way to the end of the script. So to make a copy of it, just place your mouse hover the first “next costume” block, right click, and in the menu that pops up, select “Duplicate”. Bingo, we have made a copy of it! Now we just need to drag and add it to the end of the current script. One thing I want to point out is that, when the costume is switched to the last one, running “next costume” block again is going to wrap around, meaning the costume is going to be switched back to the first one again and start from there. So switching more times than the number of costumes is ok. That’s just something you need to know when using the “next costume” block. Ok, there you go, we are now switching and moving 16 times! And the bear should move twice as far. Let’s see if this is the case! 

* Test. Aha, yes, it does moves further than before. But… it is still not quite there yet! Ha, looks like we need to do even more of these! Our script is going to get very long! Long script is very common, and people write complex code that are often very long. But having a long script like this one does not look right! Can anyone think of why? Why is it a bad idea to have something like this? Yes, brilliant! The only reason this script is so long is because it needs to repeat the following three steps: switch to the next costume, move 5 steps and wait 0.1 seconds, again and again for a total of 16 times! Such long script can cause a bit of trouble when you want to make changes.  For example, if we decide to move 7 steps each time instead of 5 steps, we have to go to each of the 16 move blocks and change the number from 5 to 7. Ok, if you think doing it for 16 times is not too bad, than how about 50 times, or even 100 times! Oh my god! I don’t have enough time to catch the bus! Hopeful this shows why writing the same code again and again just to repeat is such a bad idea! We need something better! 

* Solution:  As we have just discussed, the script basically repeats the same three steps again and again. Can anyone give me some real life examples where things or events just repeat itself? Yes, good! These are all very good examples. Another one would be the traffic light, it just cycles through red, yellow, and green lights again and again. It turns out that repeatedly running some code is a very common thing in Scratch, and actually, it is a very common thing in programming, doesn’t matter what the language is! As anything in programming, if something is used often enough, there is a tailor made solution for it! So far, all our scripts runs from the top to bottom, one block after the other. If a block has been executed, it will never be executed again. That’s why to make the bear repeat the same three steps, we have to add the same three blocks 16 times. What if we can just add the three blocks once, and then tell Scratch “Hey, repeat them 16 times for me, please”? After executing the three blocks once, the script is going back and starting all over again, for a total of 16 times. That would save us a lot of work, right? The creators of Scratch are pretty smart people and they have certainly thought about this problem. The solution they came up with is called “Loops”. As the name suggests, a loop just means to do something over and over again. In Scratch, you can create a loop by using a Loop Block. Now, the loop blocks are all in the “Control” category. There are three of them: the repeat block, the forever block and the repeat until block further down. We will be learning how to use all three in this course. But right now, let’s focus on the repeat block! 

* Now the first thing you would notice is that, this block looks nothing like any block we have seen so far. The repeat block looks like a t-rex head with its mouth wide open. Now, the creators of Scratch make it open not because they want it to look like a t-rex head, but because they want you to be able to put other blocks inside the mouth! Why would you want to put any blocks inside? Yes, because you want to repeat those blocks for a number of times. And the number in the slot of the repeat blocks determines how many times the blocks you put inside is going to be repeated. The default is 10, so anything inside the block is going to be executed 10 times. By the way, in programming, each repetition of a loop is often called an “iteration”. So this repeat block has 10 iterations. There you go, you have a loop in Scratch! Now, back to the walking bear, if we just put these three blocks, next costume, move and wait inside the repeat block, then they will just be run over and over again automatically, right? Add the blocks into the repeat blocks is simple, let’s have the blocks ready, then just drag them and move to the mouth. When then are block enough, the mouth opens up a bit, and you can just let go of the mouse and the three blocks snaps right in! Of course, since we want to repeat 16 times, let’s change the number in the slot from 10 to 16. So once the repeat block is run, it first execute the three blocks inside, then once it reaches the end, it turns it’s head and go back to the beginning of the loop and executes the three blocks again. It does this over and over again, for a total of 16 iterations. Finally, let’s get rid of all the code here, and replace it with this simple and short repeat block! Would this still work, would it still move the bear the same way as before? Let’s find out!

* Test. Aha see? the bears moves exactly as before, and we did so with a much shorted script! Using loops in such case has many benefits, for example, if I now want the bear to move 7 steps instead of 5 steps each time, I can just change one number in the move block, instead of going through all 16 move blocks and change them one by one. Also, if we want to keep it 5 steps each time, but want to the bear to move further, we can just change the number of iterations, for example, from 16 to 30. Now the bear walks all the way to the but door, very cool. Without loops, we have to add these three blocks 10 more times, and the long script gets even longer! Loop is such a time saver and we will be seeing them again and again throughout this entire course! 

* Ok,  next, we want to create the illusion of the bear getting on the bus. This is simple, we just need to hide it as soon as it reaches the bus. Now, in the property panel, there is this little eye icon that says “Show”. If you click it, it switches between open and closed. When the eye is open, the bear is shown on the stage; when it is closed, the bear hidden. This is how you make a sprite visible or invisible on the stage. So all we need to do it just to make the bear invisible as it reaches the bus. Now, just like you can can change the direction property manually here in the panel or use a code block, you can also change the visibility of a sprite using a block! Ok, question, which block category do you think it belongs to? Yes, showing or hiding is about how a sprite looks, so it is likely to be in the Looks category. Let’s confirm that! If you scroll down in the Looks category, right here, you would see two blocks, “show” and “hide”. Well, as the names suggest, they show or hide a sprite. Let’s drag both out and play with them. If I click “show”, nothing happens to the bear, because it’s already visible. But watch what happen when I click the “hide” block. See? The bear is gone! Also, the “show” property is changed to a closed eye icon. If I now click the “show” block again, the bear is back and the “show” property becomes an open eye again! Pretty straightforward! So, what do you think we should do to hide the bear when it reaches the bus? Yes, simple, we just need to add the “hide” block after the “repeat” loop. So once the repeat loop is finished after 30 iterations, the script continues with the next block after it, which is the hide block. So the bear is made invisible. Let’s see if this is the case! 

* Test. When the bear reaches the bus, it’s gone, it’s on the bus now and we can’t see it any more. Very cool!

* Problem: However, there seems to be a problem when we run the program again: the bear remains hidden and it’s no where to be seen. That’s weird! To explain this strange behavior, there is something very important you need to understand: in Scratch, when you change a sprite when running the program, that change stays across program runs. What does that mean? Well, take a look at the sprite’s visibility. The first time we run it, the bear is hidden after the script is completed, right? Now, this is a change to the sprite’s visibility and that change stays. So the next time we run the program, the bear remains hidden. It won’t automatically become visible just because you run the program again. This is a bit like a sprite’s position. For example, in the last lesson “Treasure Hunt”, when the boat reaches the treasure chest at the end, it would stay there if we just run the program again. Because we want the boat to start somewhere at the lower right corner for each program run, we added a “go to” block at the beginning of the script to make sure this is the case.  

* Solution: So the solution here is pretty similar, to make sure a sprite always starts visible we just need to run the “show” block at the beginning of the script, right after the “when flag clicked” hat block, so that the sprite is shown each time the program is run. Let’s see if this fixes our problem! 

* Test. Aha, yes, now every time we run the program, the Bear appears at the same position, walks to the bus and hide. Cool!

* So here is a very important lesson, if you change a sprite’s property somewhere in your code, this can be its position, size, color or visibility, and if you always want the sprite to start looking the same each time, then please remember to reset those properties as soon as the program starts. This is something very important to keep in mind as a lot of problems are caused by not following this rule. I myself made this kind of mistakes all the time! So please don’t be surprised if I did it again in the lesson!  |
| Parrot flies to the bus: Setting up | * Ok, the bear is on the bus now, ready for school! Time for the Parrot to catch the bus too! Let’s first click and switch to the Parrot sprite. Now the script area is completely empty again because we have not written any code for the Parrot yet. 

* First, let’s drag the parrot up to somewhere on the tree, this is where it’s going to start from. Like the bear sprite, add a “when flag clicked” hat block to kick things off! Now, we want the Parrot to always start at this same position every time we run the program. So, after the “when flag clicked” block, let’s add a “go to” block so that every time the Go button is clicked, the Parrot always goes the same position. Note that the “go to” block already has the x and y coordinates of its current position. Pretty neat!

* Right now, the Parrot is facing right. To get to the bus, it must face the bus first. In the case of the bear sprite, it also starts facing right, but we changed that by making it point to the left. This is done by using the “point in direction” block and pass -90 degrees. Also, to avoid having the bear upside down after facing left, we also set its rotation style to “left-right” using the “set rotation style” block. Ok, for the parrot, where do you think we should point it to? The bus, of course, right? So, let’s also add a “point in direction” block after the “go to” block. Now, what should the degree be this time? Of course, it’s not going to the either 90 or -90, because it is not pointing to either left or right. Instead, it should point down to the southeast direction, towards the bus. But what degree should that be? To answer that, let’s bring out the direction clock again. Right now, the arrow is pointing right, which is where the Parrot is pointing to. To point to the bus, let’s rotate the arrow clockwise until it’s about 140 degrees. Looks like the parrot is pointing to bus now. Once we figure out the degree, we can just add a “point in direction” block for the parrot, and type in number 140 in its slot. 

* Test. Ok, let’s test the code to see what we have got now. Just to make things a bit obvious, let’s move the parrot somewhere else. Click the Go button and yes, the parrot goes back to its starting position on the tree and faces the bus, nice! Bye the way, if you take a look at the bear’s script, we chose the rotation style before setting the direction. But we are not doing it for the parrot here. This is because for any new sprite, its rotation style is set to “All Around” by default. In the Bear case, since we want make it point to the left without making it upside down, we have to change the style to “Left/Right”. But for the Parrot, the “All Around” style is exactly what we need since it’s point neither left or right. So you don’t really have to do anything. Of course, if you want to make it really clear to people who look at your code that the style need to be “All Around”, you can still add a “set rotation style” block here and choose “All Around”. It’s not necessary, but there is no harm in doing it and it also makes your code clearer! So why not? |
| Parrot flies to the bus: animation | * OK, the Parrot is all set up, time to make it fly to the bus! Before that, let’s first remind ourselves how the bear walks to the bus. Click the bear sprite and take a look at its code again. The most important thing we have learn is that you can use a “loop” to make a sprite do some over and over again. We used a “repeat” loop to make the bear move a small number of steps towards the bus each iteration, and at the same time, change its costume to the next one. The result of this code, as we have seen, is a bear walking slowly to the bus. And finally, we hide it to make appear as if it gets on the bus. Of course, we also show it before the loop to make sure it is not hidden forever. Ok, we have learnt all that not too long ago. 

* Now back to the Parrot. First, it seems that we also need a “repeat” loop so that the Parrot can move towards the bus a few steps at a time. So let’s do that. Go to the Control category, drag out a “repeat” block and place it after the “point in direction” block. Right now, I’m not sure how may times to repeat, so let’s just make it 30, same as the bear. Inside the loop, let’s add a “move” block, and again, same the bear, change the steps to 5. So we move the Parrot a total of 30 times, each time move it 5 steps forward. 

* Test. Ok, let’s give it a run! Right, the Parrot moves slowly to the bus and ends on the roof. So, I want it to move a bit further to the door of the bus. Now, there are two options, you can either increase the number of repetitions of the loop, or increase the number of steps moved each time. The second option will increase the speed of the Parrot. Since I think its current speed is OK, I will just go for the first option to repeat more. So Iet’s change the number of iterations from 30 to 40. Give that a try. Yes, it moves a bit further and ends at the door. That looks better! 

* Of course, like the bear, we want the Parrot is disappear so that it looks as if it gets on the bus. Can anyone remind me how this could be done? Yes, we just need to use a “Hide” block after the repeat loop to hide it. And if you do that, do not forget what? Yes, always remember to show it at the beginning. So let’s also add a “show” block before the repeat loop. 

* Test. Now, let’s try again. it moves to the bus and there you go, it gets on! Nice!

* Ok, do you notice that I have been using the word “move” and not “fly”? Why? Yes, the Parrot moves but it certainly does not look like it’s flying! The reason it does not look like flying is because it’s wings never flap! How do you think we can fix that? Yes, we can use different costumes. Let’s first check what costumes come with the Parrot sprite. First, click the “Costumes” tab. And as you can see, it only has two costumes. If you click back and forth between these two costumes, you can immediately see that the Parrot starts to fly! What does that tell you? Yes, just like the bear, if we change the Parrot’s costumes as it moves, we should be able to create a flying animation, right? Let’s give that a go! Back to the “Code” tab. Still remember how the bear switches costumes? Yes, we use the “next costume” block inside the loop, just before the “move” block, so that a new costume is used each time the bear moves. Same here, we just need to add a “next costume” block before the “move”, and also, do not forget to wait for 0.1 seconds, because otherwise, the costume is going to change so quickly that you won’t even be able to see it.

* Test. Right, let’s test this again! Aha, see, now the parrot is actually flying towards the bus by flapping its wings! Very cool! So, two animals are now on the bus! Time to add the last one before the bus leaves!   |
| Hedge rolls over the bus | * Our last animal is going to be a cute little Hedgehog. There is one in the Scratch sprite library, so let’s add one. Choose a sprite, search for “Hedgehog” and add it to our project. Currently, the hedgehog is way too big. So let’s make it smaller by setting the size property to 40%. This time, let’s drag it to the lower left corner of the stage. Once this is all done, just like before, first add a “when flag clicked” hat block to kick things off. Then add a “go to block” so that it always starts from the same position.

* First, like the other two sprites, let’s make the hedgehog move to the bus before figuring out how we want it to get there. Since the hedgehog is already facing right, in the direction of the bus, we don’t have to set its rotation style or direction. But if you really want, just like the Parrot, we can set its rotation style to “All Around” using the “set rotation style” block and its direction using the “point in direction” block. Just put 90 degrees in the slot. And done!

* Test. Ok, let’s give that a test. Ok, nothing happens, well, this is kind of expected because all we did was just setting some rotation style and make it face left. Right, let’s make it move next! 

* First, let’s keep things simple by just moving the Hedgehog to the bus without any fancy stuffs. By now, you should have already known how to do this, right? Yes, we just move it repeatedly towards the bus one small distance at a time. So let’s go to the Control category and drag out a “Repeat” block. Let’s change the number of iterations to 40 for the time being. Inside the loop, let’s add a “Move” block and move the hedgehog 5 steps at a time. 

* Test. Ok, let’s test this out! Go and yes, the hedgehog moves all the way to the bus door. Looks like the number of iterations we chose is fairly close. I’m happy with that! Of course, we have to add the “Show” and “Hide” blocks again to make it get one the bus. So a “Show” before the loop and a “Hide” after the loop. Let’s run it again, and yes, it gets on the bus! No problem! 

* Right, just like the bear and parrot, we not only want a sprite to get to the bus, but also care about how it gets there. For the bear, it’s walking and for the Parrot it’s flying. How about the hedgehog? To answer that, let’s first take a look at its costume. Click the “Costumes” tab and here you can see 5 costumes. If you click between the first two costumes, it makes the Hedgehog walk, just like the bear. If this is what you want, that’s ok, you can do it. But I want to make things a bit different and more interesting. If you click the fourth costume, that’s “hedgehog-d”, you can see that the hedgehog is turning itself into a ball, a spiky one! Aha, I have an idea, what can ball do? Yes, a ball can roll! Then how about making the hedgehog roll all the away to the bus? I think that’s gonna be fun! Before that, since the fourth costume is the only one we need, we can delete all the other four, just so that it’s less distractive. So click each costume we don’t need and click the trach can icon to delete them all. Now, we are left with only one costume. Ok, back to the code!

* Test. First, let’s run the program again and see what is different. Now, the hedgehog has this new ball shape costume and it still moves to the bus. Nothing should surprise you here because this is the only costume we’ve got left! Ok, time to get rolling!

* Now, let’s first ask the question of rolling or rotation really mean? Think about the wheel of a car. The car can move because its wheels can rotate right? And how does the wheels rotate? Yes, a wheel turns around a center point again and again. So, does a sprite has a center point that it can turn around? Sure! Let’s go back to the Hedgehog’s costume, if you click, drag and select all of the costume on the canvas, you can see a small blue cross in the middle, roughly where the hands are. We have seen this before, and it is the center of the costume. If you rotate a sprite, it’s gonna turn around this point. Ok, let’s get back to the code. 

* Now, we know the center rotation point. The next question is: how do we get the sprite to rotate around this point? Any idea? Yes, the direction clock! Let’s bring that up! Previously, we use this clock to change the direction a sprite points to. But think about it, rotating a sprite is essentially changing it’s direction continuously! So if I grab this big arrow and turn it, watch the hedgehog, it starts to rotate around its center! How cool is that! We can rotate it clockwise or counter-clockwise. This is awesome except one small problem: we clearly can not turn the clock manually when the program runs! Remember? Once the program starts, everything should happen in the code. This means we need some code block that can turn a sprite as well! Ok, task for you guys, can you find such block or blocks? 

* Yes, because this is all about the sprite’s movement, our best bet is the Motion category. And you look closely, there are two “turn” blocks, one clockwise, and one counter clockwise, as you can tell from the direction of the arrows here. Sometimes, people also call them “turn right” for clockwise and “turn left” for counter-clockwise. Each block has a slot where you can enter the number of degrees to turn. The default is 15 degrees. If I click the turn right block, you can see that the hedgehog turns right 15 degrees. If I increase the degree number to say 45, and you can now see that it turns more each time. If I change the number to 360 and click it again, it might appear that nothing has happened? Why? Yes! Because a full circle is 360 degrees, to turning 360 degrees just goes back to where you were before. 

* OK, now we understand how the “turn” block work, to make the hedgehog roll to the bus, all we need to do is just keep turning as it moves towards the bus, right?  So inside the repeat loop, after the “move” block, let’s add a turn right block with 15 degrees. Of course, you can also add it before the “move” block, it doesn’t really matter here. The important thing is that, each time the hedgehog moves, it also rotates 15 degrees. Ok, this looks good and let’s give it a try!

* Test. Wow wow wow, what the hell is going on here??? Instead of rolling to the bus, our hedgehog just spins out of control! That’s crazy! What is going on here? Any one has any idea? Ok, the problem is with this “move” block here! When you ask a sprite to move, you only tell it how far to move, for example, 5 steps here. But you never say which direction. It’s just like somebody tells you “Hey mike, move 5 steps”, you must be very confused and thinking ”should I move 5 steps to the right, to the left, forward or backward?”. So just have the number of steps is not enough to tell a sprite where it should go, you need the direction too. So, when you move a sprite, how does it know which direction to go? Well, even though we have not given the sprite a direction in the “move” block, but at the time of the move, the sprite must be facing some direction, right? And this direction is either the default one when the sprite was first created, or set by some other blocks such as the “point in direction” block here. So we make the hedgehog point to the right before the loop and it will also be so until you change its direction again. The question is: did we change its direction? Of course! Remember, we have just added a “turn” block in the repeat loop, so its direction is changed not once, not twice, but 40 times! So this is what really happened: the hedgehog’s initial direction is 90 degrees, which is the same as right, then it moves 5 steps in that direction and turned right 15 degrees. Now, it’s direction is 105 degree and this is no longer pointing to the right! The next time round, it moves 5 steps in this new direction and turned 15 degrees again. Now, the direction becomes 120 degrees. And this just repeats over and over again for 40 times. So instead of moving towards the bus, the hedgehog goes round and round in a circle! It’s never gonna reach the bus, poor hedgehog! 

* So, it seems that the problem is with this “move” block. Since where a sprites goes depends on its current direction, which is constantly changing. What do you think the solution should be? Yes, we need a way to always move a sprite to the right, doesn’t matter what its current direction is. So, in the Motion category, there are two blocks that can only move a sprite left/right or up/down. See if you can find it? Yes, the “change x by” and the “change y by” blocks. Remember when we talked about the coordinate system, the x axis is the horizontal line and the y axis is the vertical line. So “change x by” moves the sprite along the horizontal line and “change y by” moves it along the vertical line. For example, let’s change x by 5. If you keep click this block to run it,  you can see the hedgehog moves to the right. If you change to -5, it moves to the left instead. Similarly, if you change y by 5 it moves up, and change by by -5 it moves down. Pretty straightforward. And the most important thing about these two blocks is that, it doesn’t matter what direction a sprite is pointing to, they always move it either horizontally along the x axis or vertically along the y axis. This is exactly like what we need here. So let’s replace the “move 5 steps” block by the “change x by 5” blocks. 

* Test. Awesome! Now the hedgehog rolls all the way to the bus. Nice! There is just a small problem: it seems the hedgehog is a little bit too fast. We want to slow it down a bit. Any idea? Yes, we can just add a “wait” block in the loop to wait for, say 0.1 seconds, each iteration. Let’s try again, yep, this is perfect! |
| The bus leaves | * Ok, now, it’s time for the bus to leave for school! Here we would just make it very simple, once all three animals are on board, the bus drives towards the right until it’s out of sight. So how do we make it move to the right? Ok, I hear someone say the “move” block. Let’s try that. How many steps should we move? Right, what is the bus’s x coordinate? Yes, it’s -15, it’s very close to the center. And remember the x coordinates of the stage go from -240 to 240, right? So for the bus to go to the right edge, it can simply move 240 steps. Let’s add a “move” block after the “go to” block and type in 240 in the slot. 

* Test. Let’s test this! Ok, this is weird. Before adding the “move” block, the bus starts somewhere in the middle once the program starts. Now, it starts on the right edge of the stage! What is going on here? Anyone have any idea? Yes, this is exactly because we added the “move“ block! Remember, this always moves a sprite to the final position in an instant, meaning you don’t actually see the sprite move, you only see it at its the final position. So, once the program starts, the bus did go to its starting position, but then very quickly move 240 steps to the right and ended up here. This all happened so fast that it looks as if the bus starts on the right edge. Hmmm…what can we do? Well, we don’t want the move to happen in an instant. Instead, we want to see go from its starting position to the right edge slowly. Is there a better block for that? Yes, the “glide” block. With this block, you can actually see a sprite glide from one position to the next. All you need to do is to decide the final position and the time to glide for. Here, let’s try to glide for 2 seconds. Since the bus is only doing horizontal movement along the x axis, the final position should have the same y coordinate as its starting position. So let’s enter -79. For the x coordinate, since we want the bus to get to the right edge, which is at x 240, so let’s enter 240 for x. 

* Test. Ok, try again. Yeah, this looks more like it! The bus drives away slowly until it gets to the right edge of the stage. But there is a small problem: we want it to disappear completely at the end as if it have driven again. But right now, we can still see it. This is simple to fix, we just need to hide it after the glide. And always remember, if you hide a sprite, make sure you also show it at the beginning of the script. Otherwise, it would just be hidden forever! Try again. Yep, as soon as it gets to the right edge, it disappears! Cool!

* Now, we just have one last problem: the bus leaves as soon as we click the Go button. There is just not enough time for any of the animals to catch it! What should we do? Yes, pretty simple, we just need to make the bus wait for some time before it leaves. So before the “glide” block, let’s add a “wait” block, this time, let’s wait for 4 seconds. 

* Test. Try again. Ah, looks like 4 seconds is not long enough since the bus still leaves before our animals can reach it. So let’s just increase the wait time to 6 seconds. Try again. Yep, everybody is on board and the bus leaves for school! Perfect! |
| Miss the bus | * Problem: If we want the bear to miss the bus, how can you achieve that?
* Solution: We can add a wait between each move to slow down the cat, such as 1 second or we make the bus wait shorter
* Experiment with the wait interval to make the cat catches or misses the bus
* Problem: even if the cat misses the bus, it still disappear
* Solution: remove the hide block
* When working on a project, you often go back and change or improve your code as you get new ideas. |

### Exercises

- Can you find more loops in our everyday life?
- What would happen if you repeat 0 times, or a negative number of times?
- We manually change the sizes of each sprite after adding them. Is there a way to change the size with code block(s)? If so, which block(s)? If you change the size and run the program again, does the sprite stay at that size? If so, what should you do?
- Add more sprites to catch the bus!
- Add some sound effects to the bus or the sprite!
- If I want the sprite to say its current direction, how can I do that using blocks?

### TODO

- In the slides, we use “16” for the bear’s repeat loop whereas in the actual code, we used “30”.