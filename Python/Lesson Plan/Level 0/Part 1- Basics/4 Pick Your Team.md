# 4 Pick Your Team

### Reference

[Team Chooser | Python | Coding projects for kids and teens (raspberrypi.org)](https://projects.raspberrypi.org/en/projects/team-chooser)

### Code

[https://github.com/jguo108/My-Programming-Courses/blob/main/Python/Level0/Basics/4 Pick You Team/main.py](https://github.com/jguo108/My-Programming-Courses/blob/main/Python/Level0/Basics/4%20Pick%20You%20Team/main.py)

### Key Points

- Module
    - What is module
    - Importing module
    - Importing individual method in a module
    - Importing all methods in a module
    - Call module method w/o the dot sytax
    - ‘random’ module
    - ‘choice’ function
- String
    - Joining string with a separator using ‘join’ method
    - Newline character
- List
    - Create empty list
    - Add and remove items
    - Get the length of a list
- Random
    - Randomly select an item from a list using random index
    - Randomly select an item from a list using “random.choice” method
- Loop
    - While loop
    - Break from a while loop
- User-defined function
    - Lists can be passed to function and modified inside
    - Use function to reduce code duplication
    - Named arguments
- Programming General
    - Not equal !=
    - Learn to use traceback to debug

| Steps | Notes |
| --- | --- |
| Introduction | * Ok, welcome to this new lesson! Today we are going to divide a group of kids into different teams! For example, during a school's sports day, students are often divided into different teams to compete in various events. Most importantly, the teams are usually formed randomly to give students the chance to interact and cooperate with different classmates. A different example is at a summer camp, campers are often divided into different groups for various activities such as hiking, arts and crafts, or team games. Again, we try to make the grouping random to help campers make new friends and ensures that groups are diverse and balanced. Does any one have other example of team dividing and wan to share with us all? 
* Ok, very good. Seems like most of you have some experience before. Today, we are going to write a Python program to divide a group of students into two teams. Most importantly, we do so in a pretty random fashion, meaning there is no rule about which student is gonna join which team. It’s like a bit throwing a dice, what are we going to get? Well, only God knows!
* So here’s what’s gonna happen when we run the program, in the first line, it prints out all the students. Then the next line are the two teams after we have divided them up. Now, pay attention to this, if we run the program again, the two teams is going to be different. In fact, it is going to be different every time we run the program. So how we divide the students up is completely random.  
* Ok, enough talking and let’s get coding. |
| List Introduction | * To divide a group of students, we first need to have a group of students to divide. So far, we have seen different types of values in Python such as numbers and strings, and also we use variables to store them to be used later. But there is a limitation, each value or variable only represents a single thing. For example, a ‘name’ variable can only store a single string value and a ‘score’ variable can only store a single number value. But what if I want to have something that can store more than one value? Like a group of students? How can we do that?
* Well, having a group of items is actually one of the most common thing people do when writing Python programs. So like anything that is common in Python, there is a tailor-made solution for it. And this is called a List. So when you hear the word ‘list’, what comes to your mind? Have you heard this word before in your life? Can anyone shared your thoughts? Good! For example, I often go to the supermarket with a shopping list, with all the things I need to buy. I have a pretty bad memory so if I don’t write everything down on a list, it’s almost certain that I will forget something. So what does my shopping list look like? Well, it has a number of ordered items: the first one might be tomato, the second one banana, the third one beef, the fourth one pasta, and so on and so forth, one after the other. All the items together create what we called a ‘list’. There are many many more examples in life where you can find lists. 
* Ok, so what does a list in Python looks like? Let’s open the shell first. To create a list, you type in a pair of square brackets. Note that it is different from the brackets we used for calling a function. Now, if you just leave it like this, it’s call an ‘empty list’, meaning there is nothing in it, it’s empty. If we hit return, Python just prints out the list. Ok, more often, we need to put something in the list, like my shopping list. And you can put any value, numbers or strings. For example, let me create another list, this time, I want to store numbers 1, 2, and 3 inside. All you need to do is just type in 1, then comma, 2, and comma again, finally 3. The comma is used to separate list items, just like we use comma to separate function arguments or parameters. So this is now a list with three number items, 1, 2, and 3. If we hit return, Python prints out the list again. Of course, a list can be used to store strings as well. For example, I can have a list of different student names, such as ‘Harry’, ‘John’ and ‘William’. Hit return again, and it is printed out. In fact, like number or string, list is also a type of value, it’s just a value that can contain other values. Do you still remember the built-in function ‘type’? Can anyone tell me what it does? Yes, it gives you the type of a value. So if I call ‘type’ and pass it an empty list, it prints out “class ‘list’”, which basically says the type of the argument you just gave me is a ‘list’. So like any value, we can assign and store a list to a variable. For the name list, I can store it in a variable called ‘names’. Because a list usually contain more than one value, we often use plural form for the variable name, in this case, adding the ‘s’ after ‘name’. Now once the list is stored in variable ‘names’, we can print it by calling ‘print’ function and pass ‘names’ as argument. There you go, the list is printed out. So the items in a list do not all have to be the same type of values, for example, let me create list that contains a number and a string. Hit return and it is printed out. However, just because you can do it does not mean you should do it. Actually, mixing different types of value in the same list is often considered bad practice and you should avoid doing it. 
* So we have a pretty good understanding of what a list is. Now, we can start writing our program. The first thing we need to do is to create a list for all the students. So a pair of empty brackets, and inside I’m gonna add 8 students, each one is name string, so “Harry”, “Alice”, “William”, “Mary”, “James”, “Alex”, “Sara” and “Jenifer”. Then I will assign this list to a variable called ‘students’. Next, print ‘students’ out.
* Test. Let’s run the program, and there you go, the list is printed out to the Screen. Cool! |
| Printing all students | * However, I’m not a big fan of this output. It’s strange! It still has the square brackets and each name is in quotes. It’s just weird for people to look at. Remember what I have shown you at the beginning of this lesson? I want the output to be something that starts with “Students: ” and then all the names, one after the other, separated by comma. Also, all the quotes are gone! That’s what I want. So looks like just throwing variable ‘students’ to the print function is not the best way to go. Let’s make it better!
* First, delete <print(students)>. So printing ‘Students: ” is simple, we just pass that as a string argument to ‘print’ and done.
* Test. Let’s run it, yes, it prints “Students:”
* Now, how do we print all the students in the list? In last lesson, we understand that a string can be seen as a sequence of ordered characters, one after the other. How about a list? It a sequence of ordered items, one after the other. Do you see the similarity here? Actually, you can think of a string as a special list, where the items are characters. So how does this help here? Well, if a string is just an example of a list, then what we do to a string can also be applied to a list. So here, to print all the students in the list, one solution is to go through each student and print each out one by one. Remember how we go through each character in a string in last lesson? Yes, we use a ‘for’ loop! Something like “for each character in message”, right? Now, do you think we can do the same here for ‘students’ list? Of course, after all, a string is just a special list. 
* Ok, let’s do this! Still remember how to write a ‘for’ loop? Yes, we start with the keyword ‘for’. Next is the loop variable, its value is going to be different in each iteration of the loop. Because we are going through all the students, so I will just name it ‘student’. So where are those values coming from? In the Secret Message lesson, the values are all the characters from the ‘message’ variable. Here, the values should be all the students’ names. And where are those names? Yes, they are in list ‘students’. So for the second part of the ‘for’ statement, we type keyword ‘in’ and then the source of all values, variable ‘students’. Right, what do we want to do inside the ‘for’ loop? Yes, we just print each student. And where can we get the current student? Easy, it’s just the loop variable ‘student’. Right, let’s run it!
* Test. Ok, so that’s a lot better than before, we have all the students printed out, without the square brackets or the quotes. That’s good. But there are still one thing I don’t like: I want all student names to be printed in the same line and separated by commas. Let’s see if we can achieve that.

* First, we need to understand why each name is printed in its own line. Every time ‘print’ function is called, it first prints all its arguments given, then just before it finishes, it prints one more character, call the “newline”. Ok, you might say, “But I do not see any new character at the end!” Yes, you are right, the “newline” character is actually invisible! So what is it for then? Why have an invisible character at the end? Well, its name kind of gives it away: it is like hitting the “return” key on the keyboard when finishing typing a line. What does that do? Yes, it moves us to the next new line. Same with the “newline” character, its purpose is to move to the next new line after the current line has been printed. So the next ‘print’ is going to start from this new line. OK, this explains why all the student names are on different lines: every time we print a name, a “newline” character is also printed and this moves us to the next line for the next name. 

* But in this case, this newline character is working against us: we do not want each name to be on a different line! So what should we do? To solve this problem, we need to get rid of this newline. But how? Let’s first examine the final output we want: it is essentially a long string with all the names separated by commas, right? So how can we build such a string? Well, we can start from an empty string, then each time, we join a new name and a comma to it. And if we do this name by name, then at the end, we will build such a long string with all the names. This is a bit like how we build the “new_message” string in the last lesson, right? We get each encrypted or decrypted character and join that to ‘new_message’. At the end, we have a complete encrypted or decrypted message in ‘new_message’. Once we have that this long string of names, we can just print it at the end and all names will be in the same line. Let’s write code for this.

* First, let’s define a new variable called ‘all_names’ and assign an empty string to it. This is going to be our final name string. Now, in the ‘for’ loop, instead of printing the name, we want to join it to variable ‘all_names’. Now how do you join a new string to an existing one? Well, we use the plus sign to join “all_names” and “student” and assign the result back to “all_names”. Also in last lesson, we have seen that this can be simplified to just <all_names += student>. Ok, all good? Now, after the ‘for’ loop completes, we will have all the student names as a big long string in variable ‘all_names’. Now all we need to do is just print it out. OK, let’s run this!

* Test. Right, now all names are indeed in the same line, but there is still one problem, they are all stick together without any separation. Ideally, we want them to be separated by commas. Well, this is easy, all we need to do is, after joining the student name to ‘all_names’, we join a comma string to “all_names” again. Now, if we run the program, see? All names are in the same line and separated by commas. Pretty Cool!

* So are we done here now? Almost….but…not completely. Why? Well, does anyone spot any problem? Yes, can you see the comma at the end of the line? We want to have commas to separate the names, but it’s not necessary to have it at the end! How can  we get rid of it? Yes, some of you might say, well, in the loop, we could check if ‘student’ is the last one in the list, and if so, we do not join comma to ‘all_names’. That works, but the only problem is how do we know when ‘student’ is the last one? Yes, there are ways you can check but you need to add extra code and make things a bit more complicated. In programming, we always want our code to be as simple as possible when completing the same task. Because simpler code requires less typing, is better to understand and prettier to look at. 

* So, what simpler solution can we come up here? What makes Python so popular is because you can often do complicated things with very little code. What if I tell you that this whole ‘for’ loop here can be replaced with just one line of code? Would you be surprised? I was surprise when I first saw that! So let’s see how this magic works! Let’s take a look at the final name string again and think about how it is built up. One way to look at it is that we repeatedly join a name and a comma to it. And this is exactly what the ‘for’ loop tries to do. Now, a different way to look at it is that we use a separator, the comma, as a glue to stick together all the student names in a list! Now, the separator is a string with a single comma, right? What if I tell you that there is a string method that can be used as glue to stick things up? Can you find out what that method is? Open the string method web page and give it a go! Have you found anything? Yes, the ‘join’ method! The description might be a bit confusing, but it is actually pretty easy to use! You call the method on a separator string, and pass a list of items you want to join together using that separator. It then returns a string with all list items joined together using that separator. Ok, if this still sounds confusing, let’s play with some examples. 

* Go to the shell. Let’s me create a list with 3 items, “Harry”, “Alice” and “William”, and assign that this to variable ‘students’. So it’s just a shrink down version of what we have in the script. Now, I want to create a string joining all three students together using the separate comma. All I need to do is type in the comma separator, because it is a string value, I can call method ‘join’ on it, and pass the student list as argument. Now, if I hit return, see? The return value from method ‘join’ is printed out. This is exactly what we expect, all three students are join together with the comma separator. More importantly, there is no extra comma at the end. We have a solution for our problem with much simpler code! How cool is that! Also, you are not limited to using comma as separator. In fact, you can call ‘join’ on any string and that string is going to be used as the separator. For example, if I call ‘join’ on a string with just a space, the result is a string with all the names separated by a space. And I can even use something longer than one character, for example, “<>”, and there you go! Hopefully this gives you an idea how this method works.

* Now back to our code, we can now call ‘join’ on the comma string and pass variable ‘students’ as argument. And assign the return value to variable “all_names”. Once this is done, we can delete the entire ‘for’ loop. Let’s run the code again. 

* Test. Wow, see, we have all the students in the same line, separator by the comma, and most importantly, no unnecessary comma at the end. Perfect! |
| Pick students - list removal and addition | * Ok, we have all the students and we can also print them out nicely, it’s time to pick each one to join a different team. You can decide how many teams you want, but here I would just make it simple and have two teams, A and B. Eventually, each team is going to have all the students of that team. So the individual team is also going to be a list. Let’s create them first. The first one is called ‘team_A’. Because there will be no students in the team at the beginning, we just assign a empty list to it. An empty list is just a pair of square brackets with nothing inside. Similarly for the second one ‘team_B’, we also assign it an empty list.

* Ok, it’s time to pick students! Before we look at how to do this in code, let’s first think about how you would do it in the real world. Now, say there are two captains, A and B, one for each team, standing in front of 8 students standing in a line. What next? Ok, one of captains, say captain A, might step up and say “Let me pick my first student!” But to make sure the captains cannot just pick the student they like personally, they have to be blindfolded. Then captain A can just say something like “I want to pick the fourth student from the beginning of the line”. After that, the fourth student leaves the group and move to team A. Now it’s captain B’s turn. He/she might say “I want to pick the second student from the beginning of the line”. After that, the second student leaves the group and move to team B. Now it’s back to captain A’s and he/she just pick the next student. So the two captains take turn to pick a student for his/her team. This repeats again and again until there are no students left to be picked from, at which time each one of them has joined either team A or team B.

* Ok, let’s see how to turn this into actual Python code. First, we need to be able to pick a student and remove it from the list variable ‘students’. As we said earlier, a string and a list are very similar and actually a string is just a special list. Now, if you can still remember from last lesson, how did we get a single character from a string? Yes, we use index! So each character in the string has an index. The first character has index 0 and it goes up one at a time until reaching the final character. Since a list is also an ordered sequence of items, how do you think we can get any item from it? Yes, we can also use index.

* Let’s try it in the Shell. So I’m still gonna create a name with three students. Now, to get the first one “Harry”, remember the index syntax? Yes, we first type in the name of the list, then a pair of square brackets, and inside we put the index. Since “Harry” is the first item in the list, we use 0. Hit return, and “Harry” us printed out. So same for the other two, if we use index 1, then we get “Alice” and if we use index “2”, we get “William”. Also, we have seen that when using an index for a string that is outside the range of valid values, you will get an IndexError. So same with a list, if I use index 3, which is after the last item, we get an IndexError also. So indexing a list works almost identical to a string. So let’s get the first student “Harry” and assign it to a variable called “student_picked”, because we want to eventually remove it from the list. Now we have the item to remove, how do we actually remove it? Well, this is changing the list, right? So when we learn about string, I mentioned that, when you want to change a string, for example, turning all its English letters into upper case, you call one of its many methods to do it, right? And the method is called “upper”. So where did we find that method and figure out what it does? Yes, we have this magical web page that contains all methods you can call on a string to either change it or get certain information about it. Since string and list are so similar, there is a web page for all the methods you can call on a list also! Open this web page and it gives all the list methods to either change it or get certain information about it. So, we want to remove an item from a list, can you find the method to do this? Yes, there is a ‘remove’ method. The description says “Removes the first item with the specified value”. This basically means, give me a value, and I will remove it from the list. Do we have the value yet? Yes, we do, in the “student_picked” variable. So to remove it from the list, we call the ‘remove’ method on the “names” list variable, by using the dot, then brackets, and finally inside, pass “students_picked” as the argument. Now hit return. Ok, nothing is printed out. So to confirm that “Harry” is indeed removed from the list, we can just type in “names” and hit return, this prints out the list. As we can see, “Harry” is gone and we are left with only two students: “Alice” and “William”. Pretty Cool!

* Ok, next we need to add “Harry” to a team. Let me first create another list called ‘team’ and assign an empty list to it. We can type in the variable and hit return just to double check that it is empty. OK, so we have “Harry” in variable “student_picked”, now, how do we add it to “team”. Well, adding an item to a list is also changing it, so maybe it’s time to take a look at the list method page again? Can you find anything useful there?  Yes, right there, the first method “append”. Its description says “Adds an element at the end of the list”. Sounds like just what we need! Because list “team” is the one we want to add a student to, so let’s call method ‘append’ on it. And pass “student_picked” to it as argument. Again, nothing is printed out. To confirm “Harry” has indeed been added, type in the variable “team” and hit return. Wow, do you see? List “team” now has one item in it called “Harry”. So we have successfully move “Harry” from list “names” to list “team”. Awesome! This is how a student is picked in Python! |
| Pick Students - while loop intro | * OK, once we know how to pick and move one student to a team, the rest is pretty straightforward, we just need to repeat this again and again: at each round, both captain A and captain B pick their student, and this just repeats all over again. So when does it stop? It stops when there are no more students left to be picked from. Since this is very repetitive, it reminds us of a loop. In the last lesson, we have learnt about the ‘for’ loop, which can run the same code again and again. We have also used the ‘for’ loop earlier in this lesson when printing the students. However, ‘for’ loop is most suitable for cases where you already have a set of values to go through one by one. This can be a range of numbers, a sequence of characters or a list of items. We have seen such examples in the last lesson and this one. But here, we don’t have a set of values to go through. Instead, we want to do something again and again until some condition becomes true: we want captain A and captain B to pick their students round after round until there are no more left. A repetitive process like this is an ideal case for another type of loop in Python called the ‘while’ loop. This loop runs the same code again and again while some condition is still True. As soon as the condition becomes False, it jumps out of the loop and finishes.

* Let’s see what the code looks [like.](http://like.Like) Like a ‘for’ loop, a ‘while’ loop also starts with a keyword. This time the keyword is “while”. Unlike a ‘for’ loop, where there is a loop variable, a while loop has none. Instead, like an ‘if’ statement, there is a condition after the keyword. This condition is going to determine whether we are going to run the code inside the loop or not: if the condition is True, we run the code, if it is False, we don’t and the loop finishes. So question: what condition should we check here? Yes, we should check if there are any more students left to be picked from. If there is, we go inside the loop and pick them, if not, there is no one left and the loop can finish. How do we know if there are any more students left? We have seen how to remove an item from a list, right? And if we do this again and again, eventually, the list will become empty. So the question really is: how do we know if the “students” list is empty? Well, what is special about an empty list? Yes, there are no items at all! Or in other words, the number of items in the list is 0. Now, question becomes again how do we know it the number of students in our list is 0? In last lesson, when we initially use a range with the ‘for’ loop, we first got the length of the original message, that is the number of characters it has, right? How did we get its length? Yes, we used a built-in function called “len” and pass the message as argument. It then returns the number of characters inside. Again, since string and list are so similar, do you thin we can use the same trick? Let’s find out. In the shell, if I call ‘len’ and pass our list ‘names’, hit enter, and there you go, it returns 3, which is exactly the number of names in the list. Now, if I call ‘len’ again and this time pass a empty list, just a pair of square brackets, and it returns 0. So to check if our ‘studnets’ list is empty, we just need to get its length using the ‘len’ function and compare the return value with 0. If it is 0, the list is empty, otherwise, it is not empty. Ok, back to the ‘while’ loop, so what the condition should be? Remember, if the condition is True, we run the code in the loop, otherwise, we jumps out and the loop completes. So we only want to continue picking students while the ‘students’ list is not empty, right? So the condition should be the length of ‘students’ is not 0. Right, so far we have be comparing two things for equality, whether it be twos strings or twos numbers. But how do we compare for inequality? That’s checking if two things are not equal. Well, we know the the symbol for checking equality is “==”, right? So checking for inequality is “!=”.  So if we type in <len(students) != 0> as the condition, we are checking if the length of “students” is NOT equal 0. If there are still students left in the list, this condition is True and we run the the code inside the loop, otherwise, the condition is False, the loop completes. Ok, this might be a bit difficult to get your head around at first, so take some time and let things sink in slowly. And just like the ‘for’ loop or ‘if’ statement, always end the line with a colon to start the code inside the loop. |
| Pick Students - while loop body | * Right, let’s see what to do if the student list is not empty. If this is the case, both captain A and captain B are going to come in and pick a student for their team. We have already what that means in code: we need to select one student and remove it from list “students” and add it to either “team_A” or “team_B”. Let’s do it step by step. 

* First, pick a student. So let’s create a local variable “student_picked” inside the ‘while’ loop. Now, we need to pick a student from the list and assign it to variable “student_picked”. So equal, name of the list “students” and a pair of empty brackets. Now is the one million dollar question: what index should we use? Clearly we cannot use a fixed number, like 0, here, because that would mean always pick the first student from the list. Remember, to make sure the selection if both fun and fair, we want the selection to be random. Meaning the captains can pick any student from the list at each round. And if we run the program a number of times, the selection will be different each time. Since we have 8 students in total, the indices of them are from 0 to 7. So if we can generate a random integer number between 0 and 7 and use that to select a student, then we should be able to make the selection process completely random, right? So the question now becomes, given an integer range, how can generate a random integer number within that range? 

* Ok, some of you might be thinking: right, we have already seen built-in functions like ‘print’, ‘type’, and ‘len’ that do some pretty useful things for us. So, maybe there is another built-in functions that can generate a random number for us somehow? After all, you said Python is a very powerful programming language, so it should give us anything we need, right? If this is what you are thinking, then I would like say “Good Job! You are a real programmer now!” Why? Because when facing a problem, a real programmer will always ask: has anyone solved this before? If so, can I reuse their solution without reinventing the wheels? Generating a random number is such a common thing people do all the time, surely there must already be a solution for it in Python. But unlike all the built-in functions we have been using so far, generating a random number is not a built-in function. Well, what is it then? 

* Well, to answer that question, let’s first leave Python for now and come to ourselves. As a person, you are born with some capabilities, for example, you can see things, you can hear sounds, you can run and you can jump, all just by using our bodies. If you think of Python as a person, then all these capabilities are like the built-in functions. You just have it! Now, think about what if you want to draw a picture. Well, in that case, you probably cannot do it just with your own body, instead, you need to go and buy a drawing kit that contains pens, erasers, drawing paper etc etc. Then you use those to draw a picture. Another example would be if you want to dive into the ocean, you would need a set of diving equipment, including mask, wetsuit, scuba tank etc etc. Without those, you probably can’t dive deeper than a new meters. The drawing kits and diving equipment are made by somebody else to extend the capabilities that we are born with, so that we can do even more amazing things more easily. 

* So to extend Python’s capabilities beyond those build-in functions so that it can be used to solve all kinds of problems in the world, people come up with what is called “modules”. You can think of a ‘module’ as a drawing kit: you can find a pen inside to draw things, you can find a eraser inside to erase things, and a piece of drawing paper to draw on. A module is such a tool kit with a bunch of functions inside. Of course, there are things other than functions in a module, but we will just focus on functions for now. In Python, there are modules for creating graphs, for doing maths, creating games, etc etc. In fact, there is probably a module for anything you want to do in Python. Of course, including generating random numbers. 

* So, how do we use a module in Python then? First of all, like a variable or a function, each module has a name. The module that all is about random numbers is called, well, “random”. We have see web pages that listed all methods for strings and lists. Likewise, there is web page for a module that lists all its methods. By the way, we also call functions in a module ‘methods’. The page for ‘random’ module is here. As you can see, there are a lot of methods, all have to do with random numbers. The one method we are interested in here is this one called ‘randint’, short for “random integer”. The description says, it returns a random number between the given range. If we open the web page for this method, we can see that when you call it, you need to pass two numbers as arguments: “start” and “stop”. The return value is going to be an integer between “start” and “stop”, including both, which means either “start” or “stop” can be returned as well. Ok, so to use “randint” method in our code, in fact, to use any method in the ‘random’ module, we first need to “import” it into our script. Just like if you want to use the drawing kit, you first need to buy and bring it home. Importing a module is pretty simple, at the very top of the Python file, type in keyword “import” then followed by the module you want to import, “random” in this case. After that, all methods in this module are ready to be used in our script. Cool.

* Now, we can finally go back to this line of code and use a random number as our index. As we have already see from the web example, to get an random integer, we just call method “randint”, then brackets, and two arguments start and stop for the range. Since index of a list always starts at 0, we pass 0 as the first argument. Now, what should we use for the stop parameter? Well, some of you say 7, because we have 8 students and largest index is one smaller than the length, so 7. Ok, lets’ use 7. By the way, in previous code, we always use a variable to store the return value of a function and then use that variable when it is needed. For example, here, what we might do instead is to create an “index” variable, assign the return value of “randint” to it, then use “index” in the square brackets. This is fine and is most useful when the index is going to be used multiple times in the following code. In such case, each time it’s needed, you can just use variable “index” instead. But here, since this index is only going to be used in one place when selecting a student, create an extra variable is not necessary. In such case, I will often just save some typing and use the return value of the function directly. And I will often do so from now on, just make sure you are aware of this. Ok, we have pick one student, now it’s remove it from the list. We already know how to do this: call the ‘remove’ method on the list and pass ‘student_picked’ as argument, this is going to remove it from the list. Ok, let’s add some print just to make sure things are working. Frist, print the student that is picked and next print the “students” list after one has been removed. Right, looks everything is ready, let’s run it!

* Test. Ah, we have an error! What does it say? “NameError: name ‘randint’ is not defined”. Hmmm…looks like it does not know what ‘randint’ is! But this is strange, we have already imported the ‘random’ module, so all methods there should be available for us to use. How come it still doesn’t know what this function is? Well, as it turns out, simply importing the module is not enough. If you want to use any of its method, you need to add the module name before the method call using the dot syntax. What does that look like, well, here when calling ‘randint’, we need to add the module name, which is ‘random’, then followed by a dot and finally the method itself. Does this look familiar? Yes, we use such dot syntax when calling string methods and list methods. So, if you want to call a method that belongs to a value type, such as string or list, or belongs to a module, you need to use this do syntax. This is essentially making it very clear by saying, “I’m calling the ‘randint’ method in the ‘random’ module”. This is something very important to remember. Ok, this should solve the error and let’s run it again!

* Test. Ok, this time, it’s better, we see a few lines of output from the two print function calls here. For example, the first time the loop is run, ‘Willian’ is picked and removed from the list; the second time round, ‘Sarah’ is picked and removed, and so on and so forth. However, before all students have been removed from the list, we had another error, this time it says “IndexError: list index out of range”. If we take a look at the tarceback, it points to this line of code here where we are indexing the list. So we have see this IndexError before, right? Can anyone tell me what usually causes this error? Yes, it is caused by having an index that is not within the range of all the valid indices of a list. But why? Here we pick a random number in the range from 0 to 7, and since there are 8 students in the list, the random number must be in the valid range, how come we are getting this IndexError? Hmmm…interesting? Does anyone notice the trap here? Yes, very good, brilliant! When I said there are 8 students in the list, is this true? Or is this always true? No! It’s true at the beginning when not student is picked and removed. But is it still true after more and more students are removed? No! When the first student is picked and removed, how many students have we got left in the list? 7 right? So what does the valid index range become? Yes, from 0 to 6. Now a second student is removed, the range shrinks again from 0 to 5. So it gets smaller and smaller as more and more students are removed. But our code always pick a random number from 0 to 7. So let’s say there are only 4 students left in the list, now the index range is from 0 to 3, right? But our random number can be, say 6. Now what if you use number 6 to index a list with only 4 items? Yes, you get an IndexError, because the maximum index is 3 and 6 is way pass that! So what should we do? Anyone have any idea how to fix this? Yes, we cannot use a fixed number 7 here as the stop number for method ‘randint’. What should we use then? Remember, the list gets smaller and smaller each loop iteration, so we need to adjust the stop number accordingly. This number should always be the length of the list minus one right? Cool, how do we get the length of a list? Yes, we use the built-in “len” function, so let’s change 7 to <len(students) - 1>. Let’s test this out!

* Test. Now we have no more errors! The output shows all the students get removed from the list one after the other. Eventually, the list becomes an empty one. Nice! Also, because we pick each student randomly, if you run the program multiple times, you will notice that, the order in which students are removed from the list is different every time! This is exactly what we want! 

* OK, before we move on, let’s look back at the “random” module. As we have see, to call a method in the module after importing it, you need to use the dot syntax and add the module name at the front of each method call. Now, some people find this a bit annoying because there is just too much to type. So, there is actually a different way to import a module to save some typing. What you need to do is type in keyword “from” then the module name “random”, then keyword “import” and finally the method you want to use, which is “randint” in this case. So the whole line says, “I want to import a method called ‘randint’ from module ‘random’”. Once you do that, you can get rid of the module name in front of the method call and the dot. Let’s test this.

* Test. Ok, our program runs fine and Python is not complaining about not being able to find the method ‘randint’. Cool!

* OK, we have managed to write code to randomly pick an item from a list. It’s not easy but we did it! And picking something randomly from a group is actually a very common operation people do all the time. Now, like most things in Python, if it is common, then quite likely there is already a solution for it! And as hint, that solution lies in the random module! See if you can find it! Yes, it’s the ‘choice’ method! What does the description says? “Returns a random element from the given sequence” Sounds like exactly what we have been doing here! If you look into the example, using this method is as simple as passing it the list, and it just returns a random item from that list. Amazing! So back to our code, to pick a student, we can now write the code as <student_picked = choice(students)>. Isn’t this beautiful! OK, what the ‘choice’ method actually does inside is not that different from our previous code: it also generates a random integer that is within the index range of the “students” list and uses that index to get a random student for us. It’s just that it does all these hard work for us, so we don’t need to worry about them at all. This is a real power of using methods in different modules, they do a lot of work for you and your code can just become simpler and clearer. Ok, let’s run it and see if it works as expected. 

* Test. Ouch, we are having a NameError again! This time, it’s complaining about not being able to find the methd ‘choice’. Hmmm… why? Aha, yes, remember we need to use the dot syntax to add the module name in front. But we have also just seen a different approach, we can just import method ‘choice’ by using <from random import choice>. Let’s test this again!

* Test. Hooray, it works. Again if we run the program multiple times, each time, the students are picked in different orders, it’s total random!

* Ok, before we move on, I want to talk about import modules one more time. Here, we have seen a different approach of importing methods in a module one at a time. The benefit of doing this is that we don’t have to use the pretty verbose dot syntax when calling the methods. This is good. But there is downside, there are a total of 22 methods in the ‘random’ module. If, for example, my program needs to use all of them, then, I need to type in a import line like this 22 times, one for each method. That’s a lot of work! But we don’t do that and falls back on to the first approach, then we have to use the dot syntax for at least 22 places in the code. So is there is better solution to combine the benefits of both approaches? Yes, there is a third one: it imports all the methods in a module and at the same time without the need to use dot syntax to call the methods. So you still use “from random import”, but this time, we are importing all methods instead of just a single one. How do we represent all methods, easy, use a “*” symbol. This just means all methods! Easy right? Now, does it work, let’s run it!

* Test. Cool, the programs runs fine without a single error! And we have not used the dot syntax for the “choice” method! Awesome!

* Now, we have a student removed from the original list, let’s add it to a new team. For now, let’s just add to ‘team_A’. We have already seen how to add an item to a list: just use the “append” list method. So let’s add “student_picked” to team_A. Just to make sure the student is added correctly, let’s pint “team_A” after that. 

* Test. OK, let’s run the program. And as you case see, each student that is removed from the original list one by one, until they have all been added to “team_A”. Perfect! Also, since we have proved that the code works, we can delete all the print function call inside the loop.

* Right, in the final program, we don’t want to add all students to just “team_A”, we want to move them evenly into both “team_A” and “team_B”. This is pretty simple, all we need to do is just move one more student from the list to “team_B” after all the code here. This is going to be pretty much exactly the same, so let’s me just copy these three lines and paste it down below. The only thing I need to change is just change “team_A” to “team_B”. And finally after the loop, when all students have join either “team_A” or “team_B”, let’s print both teams out. So for team A, first print “Team A: ”, then, just like printing the “students” list, we use the same trick of calling the string method “join” on a comma string to join all students together and print that out. And same for team B. Note that we have not create a variable “all_names” to store the return value of the “join” method. Instead, we pass that return value to the ‘print’ function call directly. Ok, let’s test this out!

* Test. Hooray! We can see all 8 students are evenly divided into two teams, each team has 4 members. And the teams are different each time we run the program. Perfect! |
| Reduce code duplication - print students | * Ok, we are more or less done here. But like every lesson, before we call it a day, let’s ask ourselves two questions: is the code good enough and is the code robust enough. Ok, whether the code is good enough is pretty subjective: for the same program, some people might think it’s perfect while others think otherwise. So what do you think about our code here, is it perfect by your standard? Ok, good. These are all valid points. For me there is something that just bugs me. 

* First, we printed three lists in total, all the students, team A and team B. Right? Now take a look at their code, what do you think? Yes, they look very similar! They just print a header string, then a list of students. And by now, we should already know what to do when you see code that is very similar to each other, right? Yes, we put them inside a user-defined function and call that function instead! Let’s do it. Now, at the beginning of the file, just after the imports, let’s define a function. Keyword, “def”, then the function name. What should we name this function? Well, whether it’s the initial list of students or each team of students, I think all we are doing is just printing a list of students, so let’s called the function “print_students”. Then a pair of brackets. Do we need any parameters? I don’t know, so let’s just leave it empty for now. If later we find out parameters are indeed required, we can always add them back. Then finally the colon to the start the function body. Right, what should we do here? Yes, first we print the header string, so “print” and brackets. Now what string should we use here? Well, hard to say, because it is different case by case. For the list of all students, we printed “Students:”, and for a team of students, we printed “Team A:” or “Team B:”. So what should we do? Yes, we use a parameter! So let’s add one called “header”, and here we just print “header”. Next, we need to print all the students. So “print” again, brackets. Now, we face the same problem, which list of students should we print? Again, we don’t know and it depends! Seems like we need the list of students as another parameter, let’s call this “students”, and we just print the string created after joining all students of this list. Also noted that, even though this parameter has the same name as the global list “students”, but in a local scope such as inside a function, this local variable “students” is used instead. It hides the global one so that the global “students” list cannot be used inside the function. OK, after defining the ‘print_students’ function, we can go down and replace all three places where students are printed with a call to this new function. So the first one is when we print all students, now, we can just call “print_students” and pass string “Students:” as the first argument, and “students” as the second argument. Same with the code that print both lists, we can replace them with functions call as well. Wow, look at this, I certainly think what we have now looks much cleaner and nicer! Do you think so?

* Test. Everything still works! |
| Reduce code duplication - pick students. | * Ok, now, is there any other places where the code can be made better? Do we still have snippets of code that look similar? Yes, here, inside the “while” loop! When picking students, we very similar code for both teams, each one just picks a student from the “students” list, remove it, and add it to a new team. Seems like a good candidate for yet another function, don’t you think so?

* So after function ‘print_students’, let’s define anther one. Keyword “def”, and this time, because it’s all about picking a student, I’m just gonna call it ‘pick_student’. Brackets, again, I don’t know if we need any parameters, so let’s just leave it empty for now. And finally, the colon. Ok, inside the function, we first pick a student from the “students” list. Now, this line of code needs the list “students”. We can leave this as it is and it’s fine because “students” is a global variable, and remember, you can always use and access a global variable in a local scope if it is not been hidden by a local variable with the same name, like what we have for the “students” parameter in the “print_students” function. But personally, I still prefer to pass the student list as a parameter. It just makes things clearer that our function needs to use this list and pick from it. So I’m going to add a parameter called “students” and the rest stays the same. Again, the “students” here in the “choice” is not referring to the global list variable “students” any more? Why? Yes, because we now have a local parameter with the same name, and it hides the global one. In fact, if you find this too confusing, maybe giving the parameter a name other than “students” can make things clearer. For example, since we are pick a student from the parameter, we can call it “from_list” instead. As a result, we also need to change the “students” here to “from_list”. Now, hopefully, there is no more confusion. Ok, next, we just remove “student_pick” from “from_list”. And finally, we need to add “student_pick” to a team. Which team? Well it could either by “team_A” or “team_B”. Seems like another parameter to me. Let’s a second one called “to_list”, meaning this is where the student is going to move to. Now, all we need to do is just to append “student_picked” to “to_list”. Finally, we just need to go inside the ‘while’ loop and change the code to call “pick_student” [instead.](http://instead.So) So for team A, we call the function and pass “students” as the first argument and “team_A” as the second argument. For team B, we again pass “students” as the first argument and “team_B” as the second argument. Wow, look at this, the code becomes so simple and clear. Isn’t that wonderful?

* Test. Everything works.  |
| Bug fixing - odd number of students | * So, I think I’m pretty happy with what the code looks like now. If there’s anything you think can be further improved, feel free to do it and shared with the class. Now, I want turn my attention to making the code more robust. In last lesson, we know that user can be crazy and throw anything at your program. So as a programmer, it’s important to make sure your code does not explode in their face when this happens. In other words, your program should be more robust! 

* Ok, you might say: but here we don’t have any user inputs, the list of students are created by ourselves, right? Yes, this is true. But later on, we will see how to make turn that list into an actual user input. Let’s just assume this list is given by user for now. So what kind of crazy thing can we do to this list? Any idea? Ok, here is one thing, and it’s not even crazy: right now, we have 8 students, and this is an even number. Which means we can divide all the students evenly into two team, each have 4 students, right? Everybody agrees with that? Ok, what if we have an odd number of players? What if I just add one more student and make it 9? What do you think should happen? Yes, one reasonable thing to do is just have one team with 5 students and the other with 4 students? Right? Do you think our code is going to do that? I’m not sure, let’s find out. So, first add one more student “Mark” to the list. And let’s run this!

* Test. Oops, we have an error! Looks like our program is not that robust after all. So this is another IndexError. So without looking any error message, we should immediately tell that some index we used is out of range. Let’s investigate further by looking at the traceback, the last output is tells us the error occurred somewhere inside the random module we imported, something about the ‘choice’ method. I’m not sure what the line of code means, so skip it for now and look at the next level up in the traceback. This is now inside our code: it seems to be complaining about the call to method ‘choice’ in function ‘pick_student’. But we have called ‘pick_student’ twice in our ‘while’ loop, so which call causes this error? To figure this out, we need to move one more level up in the traceback. Now we can clearly see that it’s the call to pick a student for team B that causes the error! So as you can see, the traceback is actually pretty useful when you want to figure out what went wrong in your code. It basically gives you a sequence of events that eventually leads to the error. Tracing this sequence of event backward, that is from the bottom up, can leads you to where it initially stated, in this case, it is this line of calling ‘pick_student’ with team B. 

* So why does picking a student for team B give us an IndexError? It seems to only happen after we change the number of students from 8 to 9. Why? Why there is no such error with 8 students. Ok, whenever you are faced with a confusing problem, try to walk through the code by hand, maybe even drawing something on a piece of paper. This can often make things much clearer. Let’s do that! At the beginning we have 9 students. In the first round, one joins team A and one joins team B, so we are left with 7 at the end. Next round, same thing, two students join the two teams and we are left with 5 students. Third round, still the same, we are left with 3 students. Fourth round, we are left with only one student. Now, here is the important bit. In the final round when there is only one student left, captain A comes first and pick the 9th student to join his/her team. Now, how many students have we got left? None, right? There are no more students. But what does our code do? It continues to call ‘pick_student’ for team B. Because there are no more students left, which ever random index you use to get a student from the list is going to be out of range, right? And this is exactly what happened here as can be seen from the traceback! In the fifth round when we call ‘pick_student’ for team B, method “choice” tries to use a random index to get a student from the “students” list, but since the list is already empty, the random index is certainly out of range, and therefore Python throws out an IndexError.

* So, what is the solution then? Now, in the fifth round after captain picked his/her student, we want to jump out of the loop right away so that captain B can not pick a student any more. This makes sense because there are no more students left! So how do know if the list is empty? Simple, we know how to get its length using the “len” function and if the length is 0, then the list is empty. So essentially, what we need to do is, after calling ‘pick_student’ to pick for team A, we need to check if the length of “students” list is 0, this is just another “if” statement, and the condition is <len(students == 0)>, and finally the colon. Right, what do we want to do when the list is empty? Yes, we want to jump out of the loop. This means “Ok, ignore what the loop condition says, and the rest of the code in the loop, I want to stop and jump out of the loop right here right now”. So how can we do that? Well, there is another keyword in Python that is often used with loops to jump out of them at any point, this is called “break”, meaning “breaking out of the loop”. So all we need to do inside the ‘if’ statement is just break. Now, if the “students” list is empty, we break and jump out of this “while” loop immediately, so the following ‘pick_student’ method all for team B will not run. Cool, let’s test this and see if it solves our problem! 

* Test. Hooray! We do have the IndexError anymore. And now, team A has 5 students and team B has 4 students. Perfect! |
| Summary |  |

### Exercise

- Can you make only one call in the ‘while’ loop, alternating between team A and team B for each loop iteration?
- We get a student first then remove it from the list. Can you find a method in list to do both in one go?
- Does your code with with empty “students” list?
- Can you write code to split students into more teams? Three, four, five etc
- Can you sort the students in a list by names alphabetically?